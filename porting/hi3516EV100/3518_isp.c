#include "hicommon.h"
#include <hi_sns_ctrl.h>
#include <jv_common.h>
#include "3518_isp.h"
#include "hi_spi.h"
#include "hi_i2c.h"
#include "jv_gpio.h"
#include <jv_stream.h>



#include <mpi_ae.h>
#include <mpi_awb.h>

#define I2C_16BIT_REG   0x0709  /* 16BIT REG WIDTH */
#define I2C_16BIT_DATA  0x070a  /* 16BIT DATA WIDTH */
#define I2C_SLAVE_FORCE 0x0706 
//#define I2C_RDWR	0x0707	/* Combined R/W transfer (one STOP only) */


const HI_U16 V200_LINE_DAY_LV0_GAMMA[257] =
{
	0,57,116,175,234,294,354,413,473,531,589,647,703,757,810,862,911,959,1005,1051,1095,1138,1180,1221,1261,1300,1339,1376,1412,1447,1482,1515,1548,1580,1610,1639,1667,1693,1719,1744,1768,1792,1815,1837,1860,1882,1904,1926,1948,1970,1991,2012,2033,2053,2073,2092,2112,2131,2149,2168,2186,2205,2223,2242,2260,2278,2297,2315,2333,2351,2368,2386,2404,2421,2438,2455,2472,2489,2506,2523,2539,2555,2572,2588,2604,2620,2636,2652,2667,2683,2698,2713,2728,2743,2758,2772,2786,2800,2813,2827,2840,2852,2865,2878,\
	2890,2902,2914,2926,2938,2950,2962,2974,2986,2998,3009,3021,3032,3043,3055,3066,3077,3089,3101,3113,3125,3137,3149,3161,3172,3183,3194,3206,3216,3227,3238,3249,3259,3270,3280,3291,3301,3311,3321,3331,3341,3351,3361,3370,3380,3390,3399,3408,3418,3427,3436,3445,3454,3463,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,\
	3806,3812,3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095
};

const HI_U16 V200_LINE_NIGHT_LV0_GAMMA[257] =
{
	0,45,90,135,181,226,272,318,363,408,453,498,542,585,628,670,711,751,791,830,868,906,944,981,1017,1054,1090,1125,1160,1196,1231,1265,1300,1335,1369,1404,1438,1472,1506,1540,1573,1606,1639,1670,1702,1732,1762,1792,1820,1848,1874,1900,1926,1951,1975,1998,2022,2044,2067,2089,2111,2132,2153,2175,2196,2217,2238,2258,2278,2298,2317,2337,2356,2374,2393,2411,2429,2447,2464,2482,2499,2516,2533,2549,2565,2581,2596,2612,2627,2642,2657,2672,2687,2701,2716,2731,2746,2761,2776,2791,2806,2821,2836,2851,2865,2880,\
	2894,2909,2923,2937,2951,2965,2978,2991,3004,3017,3030,3042,3055,3067,3079,3091,3103,3114,3126,3138,3149,3161,3172,3183,3194,3206,3216,3227,3238,3249,3259,3270,3280,3291,3301,3311,3321,3331,3341,3351,3361,3370,3380,3390,3399,3408,3418,3427,3436,3445,3454,3463,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,3806,3812,\
	3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095
};

const HI_U16 V200_LINE_DAY_LV1_GAMMA[257]=
{
	0,68,138,209,281,353,426,498,570,640,710,777,843,907,967,1025,1079,1130,1178,1224,1267,1308,1348,1385,1421,1456,1489,1521,1553,1584,1615,1645,1676,1706,1735,1762,1789,1815,1839,1863,1887,1910,1932,1954,1975,1996,2018,2039,2060,2081,2102,2122,2141,2161,2180,2198,2217,2235,2252,2270,2288,2305,2322,2339,2356,2373,2390,2406,2422,2438,2454,2470,2486,2501,2516,2531,2546,2560,2575,2589,2603,2617,2630,2644,2657,2670,2682,2695,2707,2719,2731,2743,2755,2767,2779,2790,2802,2814,2825,2836,2848,2859,2870,2880,\
	2891,2902,2913,2924,2934,2945,2956,2967,2978,2989,3000,3011,3023,3034,3045,3057,3068,3079,3090,3102,3113,3124,3135,3145,3156,3167,3177,3188,3198,3208,3218,3229,3239,3249,3259,3269,3279,3288,3298,3308,3317,3326,3336,3345,3354,3363,3372,3381,3389,3398,3407,3415,3424,3432,3441,3449,3458,3466,3475,3483,3492,3500,3508,3516,3524,3533,3541,3549,3557,3565,3573,3582,3590,3598,3607,3615,3624,3632,3641,3650,3658,3667,3675,3684,3692,3700,3708,3716,3724,3732,3739,3747,3754,3761,3769,3776,3783,3790,3797,3804,\
	3811,3818,3824,3831,3838,3845,3852,3858,3865,3872,3878,3885,3892,3898,3905,3911,3917,3923,3929,3935,3941,3947,3952,3957,3963,3968,3973,3977,3982,3987,3992,3996,4001,4006,4010,4015,4020,4025,4030,4034,4039,4044,4048,4053,4058,4062,4067,4072,4076,4081,4086,4090,4095
};
const HI_U16 V200_LINE_DAY_LV2_GMMMA[257]=
{
	0, 180, 320, 426, 516, 590, 660, 730, 786, 844, 896, 946, 994, 1040, 1090, 1130, 1170, 1210, 1248,    1296, 1336, 1372, 1416, 1452, 1486, 1516, 1546, 1580, 1616, 1652, 1678, 1714, 1742, 1776, 1798, 1830,	1862, 1886, 1912, 1940, 1968, 1992, 2010, 2038, 2062, 2090, 2114, 2134, 2158, 2178, 2202, 2222, 2246,	 2266, 2282, 2300, 2324, 2344, 2360, 2372, 2390, 2406, 2422, 2438, 2458, 2478, 2494, 2510, 2526, 2546,	  2562, 2582, 2598, 2614, 2630, 2648, 2660, 2670, 2682, 2698, 2710, 2724, 2736, 2752, 2764, \
	2780, 2792,    2808, 2820, 2836, 2848, 2864, 2876, 2888, 2896, 2908, 2920, 2928, 2940, 2948, 2960, 2972, 2984, 2992,	3004, 3014, 3028, 3036, 3048, 3056, 3068, 3080, 3088, 3100, 3110, 3120, 3128, 3140, 3148, 3160, 3168,	 3174, 3182, 3190, 3202, 3210, 3218, 3228, 3240, 3256, 3266, 3276, 3288, 3300, 3306, 3318, 3326, 3334,	  3342, 3350, 3360, 3370, 3378, 3386, 3394, 3398, 3406, 3414, 3422, 3426, 3436, 3444, 3454, 3466, 3476,    3486, 3498, 3502, 3510, 3518, 3526, 3530, 3538, 3546, 3554, 3558, \
	3564, 3570, 3574, 3582, 3590, 3598,	3604, 3610, 3618, 3628, 3634, 3640, 3644, 3652, 3656, 3664, 3670, 3678, 3688, 3696, 3700, 3708, 3712,	 3716, 3722, 3730, 3736, 3740, 3748, 3752, 3756, 3760, 3766, 3774, 3778, 3786, 3790, 3800, 3808, 3812,	  3816, 3824, 3830, 3832, 3842, 3846, 3850, 3854, 3858, 3862, 3864, 3870, 3874, 3878, 3882, 3888, 3894,    3900, 3908, 3912, 3918, 3924, 3928, 3934, 3940, 3946, 3952, 3958, 3966, 3974, 3978, 3982, 3986, 3990,	3994, 4002, 4006, 4010, 4018, 4022, 4032, 4038,\
	4046, 4050, 4056, 4062, 4072, 4076, 4084, 4090, 4095
};
const HI_U16 V200_LINE_DAY_LV3_GMMMA[257]=
{
	0, 54, 109, 164, 220, 276, 332, 388, 443, 498, 553, 606, 659, 710, 760, 808, 855, 900, 943, 986, 1027, 1067, 1106, 1144, 1181, 1217, 1253, 1289, 1323, 1358, 1392, 1426, 1460, 1494, 1527, 1560, 1592, 1624, 1655, 1686, 1716, 1746, 1775, 1804, 1832, 1860, 1887, 1914, 1940, 1965, 1990, 2014, 2037, 2060, 2082, 2103, 2125, 2145, 2166, 2186, 2206, 2225, 2245, 2265, 2284, 2303, 2322, 2341, 2359, 2377, 2395, 2413, 2430, 2447, 2464, 2481, 2498, 2514, 2530, 2547, 2563, 2579, 2595, 2611, 2627, 2642, 2658, 2673, \
	2688, 2703, 2718, 2733, 2747, 2761, 2775, 2789, 2802, 2815, 2828, 2840, 2852, 2864, 2876, 2887, 2898, 2909, 2920, 2931, 2942, 2953, 2964, 2975, 2986, 2997, 3008, 3019, 3030, 3040, 3051, 3062, 3072, 3083, 3094, 3104, 3114, 3125, 3135, 3146, 3156, 3166, 3177, 3187, 3197, 3208, 3218, 3228, 3238, 3248, 3258, 3268, 3278, 3288, 3298, 3308, 3317, 3326, 3336, 3345, 3354, 3363, 3372, 3381, 3389, 3398, 3407, 3415, 3424, 3432, 3441, 3449, 3458, 3466, 3475, 3483, 3492, 3500, 3508, 3516, 3524, 3533, 3541, 3549, \
	3557, 3565, 3573, 3582, 3590, 3598, 3607, 3615, 3624, 3632, 3641, 3650, 3658, 3667, 3675, 3684, 3692, 3700, 3708, 3716, 3724, 3732, 3739, 3747, 3754, 3761, 3769, 3776, 3783, 3790, 3797, 3804, 3811, 3818, 3824, 3831, 3838, 3845, 3852, 3858, 3865, 3872, 3878, 3885, 3892, 3898, 3905, 3911, 3917, 3923, 3929, 3935, 3941, 3947, 3952, 3957, 3963, 3968, 3973, 3977, 3982, 3987, 3992, 3996, 4001, 4006, 4010, 4015, 4020, 4025, 4030, 4034, 4039, 4044, 4048, 4053, 4058, 4062, 4067, 4072, 4076, 4081, 4086, 4090, 4095
};

const HI_U16 V300_MN34227_NIGHT_GAMMA[257]   =   { 0,72,147,223,298,371,442,509,571,627,679,727,772,815,857,898,939,979,1017,1054,1090,1125,1159,1192,1225,1256,1287,1317,1346,1375,1403,1431,1460,1488,1516,1544,1571,1598,1625,1651,1677,1701,1725,1749,1771,1794,1816,1838,1860,1881,1901,1921,1940,1960,1980,2000,2022,2044,2068,2092,2116,2141,2165,2189,2212,2234,2256,2278,2299,2320,2341,2361,2380,2397,2414,2430,2446,2461,2476,2491,2507,2522,2537,2552,2567,2582,2597,2612,2627,2641,2656,2671,2686,2701,2716,2731,2746,2761,2776,2791,2806,2821,2836,2851,2865,2880,2894,2909,2923,2937,2951,2965,2978,2991,3004,3017,3030,3042,3055,3067,3079,3091,3103,3114,3126,3138,3149,3161,3172,3183,3194,3206,3216,3227,3238,3249,3259,3270,3280,3291,3301,3311,3321,3331,3341,3351,3361,3370,3380,3390,3399,3408,3418,3427,3436,3445,3454,3463,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,3806,3812,3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095};
const HI_U16 V300_MN34227_DAY_GAMMA[257]   =   {0,104,210,313,413,508,601,689,770,839,899,957,1017,1081,1147,1211,1271,1314,1355,1394,1429,1462,1505,1540,1573,1604,1634,1669,1693,1720,1748,1779,1812,1834,1857,1882,1908,1933,1959,1983,2007,2029,2050,2072,2092,2113,2133,2152,2172,2190,2209,2227,2245,2262,2279,2296,2313,2329,2345,2361,2376,2391,2406,2421,2436,2450,2463,2476,2489,2502,2515,2528,2542,2555,2569,2583,2597,2611,2625,2638,2651,2662,2674,2684,2695,2705,2716,2727,2739,2751,2764,2777,2790,2803,2816,2829,2842,2853,2865,2876,2887,2898,2909,2920,2931,2941,2952,2963,2974,2985,2996,3006,3018,3029,3040,3052,3064,3076,3087,3097,3108,3117,3125,3133,3140,3147,3155,3163,3172,3181,3191,3201,3212,3223,3234,3244,3255,3265,3275,3285,3295,3304,3314,3323,3333,3341,3349,3357,3365,3373,3380,3388,3397,3405,3413,3421,3430,3438,3447,3456,3466,3475,3486,3497,3508,3519,3529,3539,3548,3555,3562,3568,3573,3579,3584,3591,3598,3605,3613,3622,3631,3639,3648,3657,3666,3674,3682,3690,3699,3707,3715,3723,3732,3740,3748,3757,3765,3774,3782,3790,3799,3807,3815,3823,3831,3839,3847,3854,3862,3868,3874,3880,3885,3891,3896,3902,3908,3914,3920,3926,3933,3939,3945,3951,3957,3961,3966,3970,3974,3977,3981,3985,3990,3994,3999,4004,4009,4014,4018,4023,4028,4032,4035,4039,4043,4046,4050,4053,4058,4062,4066,4071,4076,4080,4085,4090,4095};
	
const HI_U16 V300_MN34227_DAY_GAMMA_N2[257] = {0,90,181,272,363,452,541,606,669,731,794,856,920,986,1055,1086,1118,1149,1181,1213,1246,1279,1312,1345,1379,1413,1447,1483,1518,1554,1591,1628,1666,1688,1710,1733,1756,1780,1804,1828,1852,1877,1902,1928,1953,1978,2004,2029,2055,2080,2106,2131,2156,2181,2206,2230,2254,2277,2301,2323,2346,2367,2389,2409,2429,2448,2467,2486,2505,2523,2540,2558,2575,2592,2608,2625,2641,2656,2672,2687,2702,2717,2732,2746,2760,2774,2788,2802,2816,2829,2842,2856,2869,2882,2895,2907,2920,2933,2945,2957,2968,2980,2991,3002,3013,3023,3034,3044,3054,3064,3074,3083,3093,3102,3112,3121,3130,3139,3148,3157,3166,3175,3185,3194,3203,3212,3221,3231,3240,3256,3266,3276,3288,3300,3306,3318,3326,3334,3342,3350,3360,3370,3378,3386,3394,3398,3406,3414,3422,3426,3436,3444,3454,3466,3476,3486,3498,3502,3510,3518,3526,3534,3541,3549,3556,3563,3571,3578,3585,3591,3598,3605,3612,3618,3625,3631,3638,3644,3650,3657,3663,3669,3675,3681,3687,3694,3700,3706,3712,3718,3724,3730,3736,3742,3748,3754,3760,3766,3771,3777,3783,3789,3794,3800,3805,3811,3816,3822,3827,3833,3838,3844,3849,3855,3860,3865,3871,3876,3882,3887,3893,3898,3904,3909,3915,3921,3926,3932,3937,3943,3949,3954,3960,3966,3971,3977,3982,3988,3994,3999,4005,4011,4016,4022,4027,4033,4039,4044,4050,4056,4061,4067,4072,4078,4084,4089,4095};
const HI_U16 V300_MN34227_DAY_LOW_GAMMA[257] = {0,54,109,164,221,277,334,391,447,502,557,610,662,712,760,806,850,895,938,980,1021,1061,1099,1135,1169,1202,1233,1261,1288,1312,1334,1353,1389,1405,1425,1447,1471,1497,1525,1555,1585,1616,1647,1678,1709,1739,1767,1795,1820,1844,1868,1891,1914,1937,1960,1982,2004,2025,2046,2067,2088,2108,2128,2148,2167,2186,2205,2223,2241,2259,2276,2293,2310,2327,2343,2359,2375,2390,2406,2421,2436,2451,2465,2479,2493,2507,2520,2533,2546,2559,2571,2584,2596,2609,2621,2634,2646,2659,2671,2683,2696,2708,2720,2732,2744,2756,2767,2779,2791,2802,2814,2825,2837,2848,2859,2871,2882,2893,2904,2915,2926,2937,2948,2959,2969,2980,2991,3001,3012,3023,3033,3043,3054,3064,3074,3085,3095,3105,3115,3125,3135,3145,3155,3165,3175,3185,3194,3204,3214,3224,3233,3243,3252,3262,3271,3281,3290,3300,3309,3318,3327,3337,3346,3355,3364,3373,3382,3391,3400,3409,3418,3427,3436,3445,3454,3463,3471,3480,3489,3498,3506,3515,3523,3532,3540,3549,3557,3566,3574,3583,3591,3600,3608,3616,3624,3633,3641,3649,3657,3665,3674,3682,3690,3698,3706,3714,3722,3730,3738,3746,3754,3762,3769,3777,3785,3793,3801,3808,3816,3824,3832,3839,3847,3855,3862,3870,3877,3885,3892,3900,3907,3915,3922,3930,3937,3945,3952,3959,3967,3974,3981,3989,3996,4003,4010,4018,4025,4032,4039,4046,4054,4061,4068,4075,4082,4089,4095};
const HI_U16 V300_MN34227_NIGHT_GAMMA_N2[257]  =  {0,50,100,151,202,254,305,357,408,459,509,559,608,657,704,750,796,840,883,926,968,1009,1050,1090,1129,1168,1206,1243,1280,1316,1352,1387,1422,1455,1488,1521,1553,1584,1615,1645,1674,1703,1731,1759,1786,1812,1838,1863,1888,1911,1934,1957,1978,1999,2019,2039,2058,2077,2095,2113,2130,2148,2165,2182,2200,2216,2233,2249,2264,2280,2295,2309,2324,2338,2352,2366,2380,2394,2408,2422,2436,2450,2464,2477,2491,2504,2518,2531,2544,2557,2570,2583,2596,2609,2621,2634,2646,2659,2671,2683,2696,2708,2720,2732,2744,2756,2767,2779,2791,2802,2814,2825,2837,2848,2859,2871,2882,2893,2904,2915,2926,2937,2948,2959,2969,2980,2991,3001,3012,3023,3033,3043,3054,3064,3074,3085,3095,3105,3115,3125,3135,3145,3155,3165,3175,3185,3194,3204,3214,3224,3233,3243,3252,3262,3271,3281,3290,3300,3309,3318,3327,3337,3346,3355,3364,3373,3382,3391,3400,3409,3418,3427,3436,3445,3454,3463,3471,3480,3489,3498,3506,3515,3523,3532,3540,3549,3557,3566,3574,3583,3591,3600,3608,3616,3624,3633,3641,3649,3657,3665,3674,3682,3690,3698,3706,3714,3722,3730,3738,3746,3754,3762,3769,3777,3785,3793,3801,3808,3816,3824,3832,3839,3847,3855,3862,3870,3877,3885,3892,3900,3907,3915,3922,3930,3937,3945,3952,3959,3967,3974,3981,3989,3996,4003,4010,4018,4025,4032,4039,4046,4054,4061,4068,4075,4082,4089,4095};

const HI_U16 V300_AR0237_DAY_GAMMA[257] = {0,81,163,253,313,376,443,512,585,633,684,736,790,843,896,947,996,1043,1089,1134,1178,1221,1263,1304,1344,1383,1421,1458,1495,1530,1564,1597,1629,1660,1689,1716,1743,1769,1795,1820,1846,1872,1898,1924,1949,1974,1997,2019,2040,2050,2062,2076,2091,2106,2123,2141,2160,2178,2197,2217,2236,2255,2273,2291,2308,2325,2342,2359,2376,2393,2410,2427,2444,2461,2478,2494,2511,2526,2542,2557,2572,2586,2599,2613,2625,2638,2650,2662,2674,2686,2698,2709,2720,2732,2743,2755,2766,2778,2789,2800,2812,2823,2834,2845,2856,2867,2878,2889,2900,2910,2921,2931,2942,2952,2963,2973,2984,2994,3004,3014,3024,3034,3044,3054,3064,3074,3084,3094,3103,3113,3123,3132,3142,3151,3161,3170,3180,3189,3198,3207,3217,3226,3235,3244,3253,3262,3271,3280,3289,3298,3307,3315,3324,3333,3342,3350,3359,3368,3376,3385,3393,3402,3410,3418,3427,3435,3444,3452,3460,3468,3476,3485,3493,3501,3509,3517,3525,3533,3541,3549,3557,3565,3573,3580,3588,3596,3604,3612,3619,3627,3635,3642,3650,3657,3665,3673,3680,3688,3695,3703,3710,3717,3725,3732,3739,3747,3754,3761,3769,3776,3783,3790,3797,3805,3812,3819,3826,3833,3840,3847,3854,3861,3868,3875,3882,3889,3896,3903,3910,3916,3923,3930,3937,3944,3950,3957,3964,3971,3977,3984,3991,3997,4004,4011,4017,4024,4030,4037,4043,4050,4056,4063,4069,4076,4082,4089,4095};
const HI_U16 V300_AR0237_DAY_LOW_GAMMA[257] = {0,72,147,223,298,371,442,509,571,627,679,727,772,815,857,898,939,979,1017,1054,1090,1125,1159,1192,1225,1256,1287,1317,1346,1375,1403,1431,1460,1488,1516,1544,1571,1598,1625,1651,1677,1701,1725,1749,1771,1794,1816,1838,1860,1881,1901,1921,1940,1960,1980,2000,2022,2044,2068,2092,2116,2141,2165,2189,2212,2234,2256,2278,2299,2320,2341,2361,2380,2397,2414,2430,2446,2461,2476,2491,2507,2522,2537,2552,2567,2582,2597,2612,2627,2641,2656,2671,2686,2701,2716,2731,2746,2761,2776,2791,2806,2821,2836,2851,2865,2880,2894,2909,2923,2937,2951,2965,2978,2991,3004,3017,3030,3042,3055,3067,3079,3091,3103,3114,3126,3138,3149,3161,3172,3183,3194,3206,3216,3227,3238,3249,3259,3270,3280,3291,3301,3311,3321,3331,3341,3351,3361,3370,3380,3390,3399,3408,3418,3427,3436,3445,3454,3463,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,3806,3812,3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095};
const HI_U16 V300_AR0237_NIGHT_GAMMA[257] = {0,30,59,89,119,149,179,210,240,270,300,330,361,391,421,451,481,511,541,571,601,631,661,690,719,749,778,806,835,864,892,920,948,976,1003,1031,1058,1086,1113,1140,1167,1194,1221,1248,1275,1301,1328,1354,1380,1406,1432,1458,1483,1508,1534,1559,1584,1609,1633,1658,1682,1706,1730,1753,1777,1800,1823,1846,1869,1891,1913,1935,1957,1979,2000,2022,2043,2064,2085,2105,2126,2147,2167,2187,2208,2228,2248,2268,2288,2308,2327,2347,2367,2387,2407,2426,2446,2466,2486,2505,2525,2545,2565,2585,2604,2624,2644,2663,2683,2702,2722,2741,2760,2779,2798,2816,2835,2853,2871,2889,2907,2925,2942,2959,2976,2993,3009,3025,3041,3057,3072,3087,3102,3116,3131,3145,3159,3172,3186,3199,3212,3225,3238,3251,3263,3276,3288,3300,3312,3324,3335,3347,3359,3370,3381,3392,3403,3415,3425,3436,3447,3457,3468,3478,3487,3497,3507,3516,3526,3535,3545,3554,3563,3572,3581,3590,3599,3608,3616,3625,3634,3642,3651,3659,3668,3676,3684,3693,3701,3709,3718,3726,3734,3742,3750,3757,3765,3772,3779,3786,3793,3800,3806,3813,3820,3826,3832,3838,3845,3851,3857,3862,3868,3874,3879,3885,3891,3896,3901,3907,3912,3917,3922,3927,3933,3938,3943,3948,3953,3958,3963,3967,3972,3977,3982,3987,3992,3997,4002,4007,4012,4016,4021,4026,4031,4036,4042,4047,4052,4057,4062,4068,4073,4078,4084,4089,4095};

const HI_U16 V300_IMX291_DAY_GAMMA_N1[257] = {0,51,102,155,207,260,313,366,419,471,522,573,623,672,720,766,812,855,898,940,981,1021,1060,1099,1136,1173,1210,1245,1280,1315,1348,1382,1415,1447,1478,1508,1538,1566,1595,1622,1649,1676,1702,1728,1753,1778,1804,1829,1854,1878,1903,1927,1950,1974,1997,2020,2042,2064,2086,2108,2130,2151,2172,2193,2214,2234,2254,2274,2294,2314,2333,2353,2372,2390,2409,2427,2444,2462,2479,2496,2513,2529,2544,2559,2574,2589,2603,2617,2630,2644,2657,2670,2684,2697,2710,2723,2737,2750,2763,2776,2790,2803,2816,2829,2841,2854,2867,2879,2892,2904,2916,2929,2941,2952,2964,2976,2987,2998,3010,3021,3032,3043,3053,3064,3075,3086,3097,3108,3119,3129,3140,3151,3162,3173,3184,3195,3206,3217,3227,3238,3248,3259,3269,3279,3289,3298,3307,3316,3325,3334,3343,3351,3360,3368,3376,3385,3393,3401,3410,3418,3427,3435,3444,3452,3461,3470,3478,3487,3496,3504,3513,3521,3529,3537,3545,3553,3561,3568,3575,3581,3588,3594,3600,3606,3612,3618,3624,3630,3636,3642,3649,3655,3662,3668,3675,3682,3689,3696,3703,3710,3717,3724,3731,3738,3745,3752,3759,3766,3773,3779,3786,3792,3798,3804,3811,3817,3823,3829,3835,3841,3848,3854,3860,3866,3873,3879,3885,3891,3897,3904,3910,3916,3922,3929,3935,3941,3948,3954,3961,3968,3975,3982,3989,3996,4003,4011,4018,4026,4033,4041,4049,4056,4064,4072,4079,4087,4095};
const HI_U16 V300_IMX291_DAY_GAMMA[257] = {0,50,100,151,202,254,305,357,408,459,509,559,608,657,704,750,796,840,883,926,968,1009,1050,1090,1129,1168,1206,1243,1280,1316,1352,1387,1422,1455,1488,1521,1553,1584,1615,1645,1674,1703,1731,1759,1786,1812,1838,1863,1888,1911,1934,1957,1978,1999,2019,2039,2058,2077,2095,2113,2130,2148,2165,2182,2200,2216,2233,2249,2264,2280,2295,2309,2324,2338,2352,2366,2380,2394,2408,2422,2436,2450,2464,2477,2491,2504,2518,2531,2544,2557,2570,2583,2596,2609,2621,2634,2646,2659,2671,2683,2696,2708,2720,2732,2744,2756,2767,2779,2791,2802,2814,2825,2837,2848,2859,2871,2882,2893,2904,2915,2926,2937,2948,2959,2969,2980,2991,3001,3012,3023,3033,3043,3054,3064,3074,3085,3095,3105,3115,3125,3135,3145,3155,3165,3175,3185,3194,3204,3214,3224,3233,3243,3252,3262,3271,3281,3290,3300,3309,3318,3327,3337,3346,3355,3364,3373,3382,3391,3400,3409,3418,3427,3436,3445,3454,3463,3471,3480,3489,3498,3506,3515,3523,3532,3540,3549,3557,3566,3574,3583,3591,3600,3608,3616,3624,3633,3641,3649,3657,3665,3674,3682,3690,3698,3706,3714,3722,3730,3738,3746,3754,3762,3769,3777,3785,3793,3801,3808,3816,3824,3832,3839,3847,3855,3862,3870,3877,3885,3892,3900,3907,3915,3922,3930,3937,3945,3952,3959,3967,3974,3981,3989,3996,4003,4010,4018,4025,4032,4039,4046,4054,4061,4068,4075,4082,4089,4095};
const HI_U16 V300_IMX291_DAY_GAMMA_N2[257] = {0,57,116,175,234,294,354,413,473,531,589,647,703,757,810,862,911,959,1005,1051,1095,1138,1180,1221,1261,1300,1339,1376,1412,1447,1482,1515,1548,1580,1610,1639,1667,1693,1719,1744,1768,1792,1815,1837,1860,1882,1904,1926,1948,1970,1991,2012,2033,2053,2073,2092,2112,2131,2149,2168,2186,2205,2223,2242,2260,2278,2297,2315,2333,2351,2368,2386,2404,2421,2438,2455,2472,2489,2506,2523,2539,2555,2572,2588,2604,2620,2636,2652,2667,2683,2698,2713,2728,2743,2758,2772,2786,2800,2813,2827,2840,2852,2865,2878,2890,2902,2914,2926,2938,2950,2962,2974,2986,2998,3009,3021,3032,3043,3055,3066,3077,3089,3101,3113,3125,3137,3149,3161,3172,3183,3194,3206,3216,3227,3238,3249,3259,3270,3280,3291,3301,3311,3321,3331,3341,3351,3361,3370,3380,3390,3399,3408,3418,3427,3436,3445,3454,3463,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,3806,3812,3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095};
const HI_U16 V300_IMX291_DAY_GAMMA_N3[257] = {0,59,120,182,243,306,368,430,492,553,613,673,731,789,844,898,951,1001,1051,1099,1147,1193,1238,1283,1326,1368,1409,1450,1489,1527,1564,1600,1636,1669,1702,1733,1763,1792,1819,1846,1872,1897,1921,1945,1969,1992,2014,2037,2060,2082,2103,2124,2144,2163,2182,2200,2219,2236,2254,2271,2288,2305,2322,2339,2356,2373,2390,2406,2422,2438,2454,2470,2486,2501,2516,2531,2546,2560,2575,2589,2603,2617,2630,2644,2657,2670,2682,2695,2707,2719,2731,2743,2755,2767,2779,2790,2802,2814,2825,2836,2848,2859,2870,2880,2891,2902,2913,2924,2934,2945,2956,2967,2978,2989,3000,3011,3023,3034,3045,3057,3068,3079,3090,3102,3113,3124,3135,3145,3156,3167,3177,3188,3198,3208,3218,3229,3239,3249,3259,3269,3279,3288,3298,3308,3317,3326,3336,3345,3354,3363,3372,3381,3389,3398,3407,3415,3424,3432,3441,3449,3458,3466,3475,3483,3492,3500,3508,3516,3524,3533,3541,3549,3557,3565,3573,3582,3590,3598,3607,3615,3624,3632,3641,3650,3658,3667,3675,3684,3692,3700,3708,3716,3724,3732,3739,3747,3754,3761,3769,3776,3783,3790,3797,3804,3811,3818,3824,3831,3838,3845,3852,3858,3865,3872,3878,3885,3892,3898,3905,3911,3917,3923,3929,3935,3941,3947,3952,3957,3963,3968,3973,3977,3982,3987,3992,3996,4001,4006,4010,4015,4020,4025,4030,4034,4039,4044,4048,4053,4058,4062,4067,4072,4076,4081,4086,4090,4095};
const HI_U16 V300_IMX291_NIGHT_GAMMA[257] = {0,39,78,117,157,196,235,275,314,353,392,431,470,509,547,585,623,661,698,735,772,809,846,883,919,955,991,1027,1063,1098,1134,1169,1204,1239,1274,1309,1344,1379,1413,1448,1482,1516,1549,1582,1615,1647,1679,1710,1740,1770,1799,1828,1857,1885,1912,1939,1966,1992,2018,2044,2069,2093,2117,2141,2164,2187,2209,2230,2251,2271,2291,2310,2329,2348,2366,2385,2403,2421,2439,2457,2475,2493,2511,2529,2547,2564,2582,2599,2616,2633,2650,2666,2682,2699,2715,2730,2746,2761,2776,2791,2806,2820,2835,2849,2863,2877,2890,2904,2917,2931,2944,2957,2970,2983,2996,3008,3021,3033,3046,3058,3070,3082,3094,3106,3117,3129,3141,3152,3164,3176,3187,3199,3210,3222,3233,3244,3255,3266,3277,3288,3299,3310,3320,3331,3341,3351,3361,3371,3381,3390,3400,3409,3418,3427,3437,3446,3455,3464,3472,3481,3490,3499,3507,3516,3525,3533,3542,3550,3558,3567,3575,3583,3591,3599,3607,3614,3622,3629,3637,3644,3651,3658,3665,3672,3679,3685,3692,3699,3705,3712,3719,3725,3732,3739,3746,3752,3759,3766,3773,3779,3786,3793,3799,3806,3812,3819,3825,3832,3838,3844,3850,3856,3863,3869,3875,3881,3887,3893,3899,3905,3910,3916,3922,3928,3933,3939,3945,3950,3956,3962,3967,3973,3978,3983,3989,3994,3999,4005,4010,4015,4020,4026,4031,4036,4041,4046,4051,4056,4061,4066,4071,4076,4081,4085,4090,4095,4095};


const HI_U16 FSWDR_l_gamma[]   =     {  0,   1,   2,   4,   8,  12,  17,  23,  30,  38,  47,  57,  68,  79,  92, 105, 120, 133, 147, 161,        176, 192, 209, 226, 243, 260, 278, 296, 315, 333, 351, 370, 390, 410, 431, 453, 474, 494, 515,        536, 558, 580, 602, 623, 644, 665, 686, 708, 730, 751, 773, 795, 818, 840, 862, 884, 907, 929,        951, 974, 998,1024,1051,1073,1096,1117,1139,1159,1181,1202,1223,1243,1261,1275,1293,1313,        1332,1351,1371,1389,1408,1427,1446,1464,1482,1499,1516,1533,1549,1567,1583,1600,1616,1633,        1650,1667,1683,1700,1716,1732,1749,1766,1782,1798,1815,1831,1847,1863,1880,1896,1912,1928,        1945,1961,1977,1993,2009,2025,2041,2057,2073,2089,2104,2121,2137,2153,2168,2184,2200,2216,        2231,2248,2263,2278,2294,2310,2326,2341,2357,2373,2388,2403,2419,2434,2450,2466,2481,2496,        2512,2527,2543,2558,2573,2589,2604,2619,2635,2650,2665,2680,2696,2711,2726,2741,2757,2771,        2787,2801,2817,2832,2847,2862,2877,2892,2907,2922,2937,2952,2967,2982,2997,3012,3027,3041,        3057,3071,3086,3101,3116,3130,3145,3160,3175,3190,3204,3219,3234,3248,3263,3278,3293,3307,        3322,3337,3351,3365,3380,3394,3409,3424,3438,3453,3468,3482,3497,3511,3525,3540,3554,3569,        3584,3598,3612,3626,3641,3655,3670,3684,3699,3713,3727,3742,3756,3770,3784,3799,3813,3827,3841,3856,3870,3884,3898,3912,3927,3941,3955,3969,3983,3997,4011,4026,4039,4054,4068,4082,4095};
const HI_U16 FSWDR_h_gamma[]   =     {  0,1,2,4,8,12,17,23,30,38,47,57,68,79,92,105,120,133,147,161,176,192,209,226,243,260,278,296,        317,340,365,390,416,440,466,491,517,538,561,584,607,631,656,680,705,730,756,784,812,835,        858,882,908,934,958,982,1008,1036,1064,1092,1119,1143,1167,1192,1218,1243,1269,1294,1320,        1346,1372,1398,1424,1450,1476,1502,1528,1554,1580,1607,1633,1658,1684,1710,1735,1761,1786,        1811,1836,1860,1884,1908,1932,1956,1979,2002,2024,2046,2068,2090,2112,2133,2154,2175,2196,        2217,2237,2258,2278,2298,2318,2337,2357,2376,2395,2414,2433,2451,2469,2488,2505,2523,2541,        2558,2575,2592,2609,2626,2642,2658,2674,2690,2705,2720,2735,2750,2765,2779,2793,2807,2821,        2835,2848,2861,2874,2887,2900,2913,2925,2937,2950,2962,2974,2986,2998,3009,3021,3033,3044,        3056,3067,3078,3088,3099,3109,3119,3129,3139,3148,3158,3168,3177,3187,3197,3207,3217,3227,        3238,3248,3259,3270,3281,3292,3303,3313,3324,3335,3346,3357,3368,3379,3389,3400,3410,3421,        3431,3441,3451,3461,3471,3481,3491,3501,3511,3521,3531,3541,3552,3562,3572,3583,3593,3604,        3615,3625,3636,3646,3657,3668,3679,3689,3700,3711,3721,3732,3743,3753,3764,3774,3784,3795,        3805,3816,3826,3837,3847,3858,3869,3880,3891,3902,3913,3925,3937,3949,3961,3973,3985,3997,4009,4022,4034,4046,4058,4071,4083,4095 };
const HI_U16 u16Gamma_wdr_h[257] = {0,0,1,2,3,5,8,10,14,17,21,26,30,36,41,47,54,61,68,75,83,92,100,109,119,129,139,150,161,173,184,196,209,222,235,248,262,276,290,305,320,335,351,366,382,399,415,433,450,467,484,502,520,539,557,576,595,614,634,653,673,693,714,734,754,775,796,816,837,858,879,901,923,944,966,988,1010,1032,1054,1076,1098,1120,1142,1165,1188,1210,1232,1255,1278,1301,1324,1346,1369,1391,1414,1437,1460,1483,1505,1528,1551,1574,1597,1619,1642,1665,1687,1710,1732,1755,1777,1799,1822,1845,1867,1889,1911,1933,1955,1977,1999,2021,2043,2064,2086,2108,2129,2150,2172,2193,2214,2236,2256,2277,2298,2319,2340,2360,2380,2401,2421,2441,2461,2481,2501,2521,2541,2560,2580,2599,2618,2637,2656,2675,2694,2713,2732,2750,2769,2787,2805,2823,2841,2859,2877,2895,2912,2929,2947,2964,2982,2999,3015,3032,3049,3066,3082,3099,3115,3131,3147,3164,3179,3195,3211,3227,3242,3258,3273,3288,3303,3318,3333,3348,3362,3377,3392,3406,3420,3434,3448,3462,3477,3490,3504,3517,3531,3544,3558,3571,3584,3597,3611,3623,3636,3649,3662,3674,3686,3698,3711,3723,3736,3748,3759,3771,3783,3795,3806,3818,3829,3841,3852,3863,3874,3885,3896,3907,3918,3929,3939,3949,3961,3971,3981,3991,4001,4012,4022,4032,4042,4051,4061,4071,4081,4090,4095};
const HI_U16 u16Gamma_wdr_l[257] = {0,0,2,4,8,12,17,23,30,38,47,57,68,79,92,105,120,133,147,161,176,192,209,226,243,260,278,296,315,333,351,370,390,410,431,453,474,494,515,536,558,580,602,623,644,665,686,708,730,751,773,795,818,840,862,884,907,929,951,974,998,1024,1051,1073,1096,1117,1139,1159,1181,1202,1223,1243,1261,1275,1293,1313,1332,1351,1371,1389,1408,1427,1446,1464,1482,1499,1516,1533,1549,1567,1583,1600,1616,1633,1650,1667,1683,1700,1716,1732,1749,1766,1782,1798,1815,1831,1847,1863,1880,1896,1912,1928,1945,1961,1977,1993,2009,2025,2041,2057,2073,2089,2104,2121,2137,2153,2168,2184,2200,2216,2231,2248,2263,2278,2294,2310,2326,2341,2357,2373,2388,2403,2419,2434,2450,2466,2481,2496,2512,2527,2543,2558,2573,2589,2604,2619,2635,2650,2665,2680,2696,2711,2726,2741,2757,2771,2787,2801,2817,2832,2847,2862,2877,2892,2907,2922,2937,2952,2967,2982,2997,3012,3027,3041,3057,3071,3086,3101,3116,3130,3145,3160,3175,3190,3204,3219,3234,3248,3263,3278,3293,3307,3322,3337,3351,3365,3380,3394,3409,3424,3438,3453,3468,3482,3497,3511,3525,3540,3554,3569,3584,3598,3612,3626,3641,3655,3670,3684,3699,3713,3727,3742,3756,3770,3784,3799,3813,3827,3841,3856,3870,3884,3898,3912,3927,3941,3955,3969,3983,3997,4011,4026,4039,4054,4068,4082,4095};
const HI_U16 IMX178_default_gamma[] = {  0, 180, 320, 426, 516, 590, 660, 730, 786, 844, 896, 946, 994, 1040, 1090, 1130, 1170, 1210, 1248,    1296, 1336, 1372, 1416, 1452, 1486, 1516, 1546, 1580, 1616, 1652, 1678, 1714, 1742, 1776, 1798, 1830,    1862, 1886, 1912, 1940, 1968, 1992, 2010, 2038, 2062, 2090, 2114, 2134, 2158, 2178, 2202, 2222, 2246,    2266, 2282, 2300, 2324, 2344, 2360, 2372, 2390, 2406, 2422, 2438, 2458, 2478, 2494, 2510, 2526, 2546,    2562, 2582, 2598, 2614, 2630, 2648, 2660, 2670, 2682, 2698, 2710, 2724, 2736, 2752, 2764, 2780, 2792,    2808, 2820, 2836, 2848, 2864, 2876, 2888, 2896, 2908, 2920, 2928, 2940, 2948, 2960, 2972, 2984, 2992,    3004, 3014, 3028, 3036, 3048, 3056, 3068, 3080, 3088, 3100, 3110, 3120, 3128, 3140, 3148, 3160, 3168,    3174, 3182, 3190, 3202, 3210, 3218, 3228, 3240, 3256, 3266, 3276, 3288, 3300, 3306, 3318, 3326, 3334,    3342, 3350, 3360, 3370, 3378, 3386, 3394, 3398, 3406, 3414, 3422, 3426, 3436, 3444, 3454, 3466, 3476,    3486, 3498, 3502, 3510, 3518, 3526, 3530, 3538, 3546, 3554, 3558, 3564, 3570, 3574, 3582, 3590, 3598,    3604, 3610, 3618, 3628, 3634, 3640, 3644, 3652, 3656, 3664, 3670, 3678, 3688, 3696, 3700, 3708, 3712,    3716, 3722, 3730, 3736, 3740, 3748, 3752, 3756, 3760, 3766, 3774, 3778, 3786, 3790, 3800, 3808, 3812,    3816, 3824, 3830, 3832, 3842, 3846, 3850, 3854, 3858, 3862, 3864, 3870, 3874, 3878, 3882, 3888, 3894,3900, 3908, 3912, 3918, 3924, 3928, 3934, 3940, 3946, 3952, 3958, 3966, 3974, 3978, 3982, 3986, 3990,    3994, 4002, 4006, 4010, 4018, 4022, 4032, 4038, 4046, 4050, 4056, 4062, 4072, 4076, 4084, 4090, 4095};
HI_U16  V300_DAY_GAMMA[257] =
{
	0,65,132,200,269,337,407,476,545,612,679,743,806,868,926,982,1034,1084,1131,1176,1219,1259,1299,1336,1372,1407,1441,1473,1505,1537,1568,1599,1630,1661,1691,1719,1746,1773,1799,1824,1849,1873,1896,1919,1942,1964,1987,2009,2031,2053,2074,2095,2115,2135,2155,2174,2193,2212,2229,2248,2266,2284,2301,2319,2336,2354,2371,2388,2404,2421,2437,2454,2470,2485,2501,2516,2531,2546,2561,2576,2590,2604,2618,2632,2645,2659,2671,2685,2697,2709,2722,2734,2746,2759,2771,2782,2795,2807,2819,2830,2842,2854,2865,2876,2887,\
	2899,2910,2922,2932,2944,2955,2966,2978,2989,3000,3011,3023,3034,3046,3058,3069,3080,3091,3103,3114,3125,3136,3146,3157,3168,3179,3190,3200,3210,3220,3231,3241,3251,3261,3271,3281,3290,3300,3310,3319,3329,3339,3348,3357,3366,3375,3384,3392,3401,3410,3418,3427,3435,3444,3452,3461,3469,3478,3486,3495,3503,3512,3520,3528,3537,3545,3553,3561,3569,3577,3585,3593,3601,3610,3618,3627,3635,3643,3652,3660,3669,3677,3685,3693,3701,3709,3717,3724,3732,3739,3747,3754,3761,3769,3776,3783,3790,3797,3804,3811,3818,3824,\
	3831,3838,3844,3851,3857,3864,3871,3877,3884,3891,3897,3904,3910,3916,3922,3928,3934,3940,3946,3951,3956,3962,3967,3972,3976,3981,3986,3991,3995,4000,4005,4010,4015,4020,4025,4030,4034,4039,4044,4048,4053,4058,4062,4067,4072,4076,4081,4086,4090,4095
};
const HI_U16 V300_day_gammaH[257]=  //基于白天gamma实现的高对比度gamma
{0,52,105,158,212,267,321,375,429,482,535,587,638,688,737,785,831,875,919,961,1003,1044,1084,1123,1161,1199,1236,1272,1308,1342,1377,1410,1444,1476,1508,1538,1568,1598,1626,1654,1682,\
1709,1735,1761,1786,1811,1835,1860,1884,1907,1930,1952,1974,1995,2016,2036,2056,2076,2095,2114,2132,2150,2168,2186,2204,2221,2237,2254,2270,2285,2300,2315,2330,2344,2358,2372,2386,\
2400,2414,2428,2443,2457,2471,2485,2498,2512,2526,2539,2553,2566,2580,2593,2606,2619,2632,2645,2658,2670,2683,2695,2707,2720,2732,2744,2756,2768,2780,2791,2803,2815,2826,2838,2850,\
2861,2873,2884,2896,2907,2918,2930,2941,2952,2963,2974,2985,2996,3007,3017,3028,3038,3048,3058,3068,3077,3087,3096,3106,3115,3125,3134,3143,3152,3162,3171,3181,3190,3199,3209,3218,\
3228,3237,3246,3256,3265,3274,3284,3293,3302,3311,3320,3330,3338,3347,3356,3365,3374,3383,3391,3400,3409,3417,3426,3435,3443,3452,3461,3470,3478,3487,3496,3505,3514,3523,3532,3541,\
3550,3559,3568,3577,3586,3594,3603,3612,3620,3628,3637,3645,3653,3661,3669,3677,3685,3693,3701,3709,3717,3725,3733,3742,3750,3758,3766,3774,3782,3790,3798,3806,3814,3822,3830,3837,\
3845,3853,3861,3869,3877,3884,3892,3900,3907,3915,3922,3930,3937,3945,3952,3959,3967,3974,3981,3988,3995,4002,4009,4016,4022,4029,4036,4042,4049,4055,4062,4069,4075,4082,4088,4095
};
const HI_U16  EV100_DAY_GAMMA[257] ={0,65,131,198,266,335,404,472,540,607,673,737,799,860,917,972,1023,1071,1117,1160,1201,1240,1277,1313,1347,1380,1411,1442,1472,1501,1530,1559,1588,1616,1643,1669,1694,1719,1742,1764,1786,1808,1828,1849,1869,1889,1909,1928,1948,1967,1986,2005,2023,2041,2058,2075,2092,2109,2125,2141,2157,2173,2189,2204,2220,2236,2251,2266,2281,2296,2310,2325,2339,2353,2367,2381,2395,2409,2423,2437,2451,2465,2479,2493,2507,2520,2534,2548,2561,2575,2588,2602,2615,2628,2641,2653,2666,2678,2691,2703,2715,2726,2738,2749,2761,2772,2783,2795,2806,2817,2828,2839,2850,2861,2872,2883,2894,2905,2916,2926,2937,2948,2958,2969,2979,2989,3000,3010,3020,3030,3040,3050,3060,3069,3079,3088,3098,3107,3117,3126,3135,3145,3154,3164,3173,3182,3192,3201,3210,3220,3229,3238,3247,3257,3266,3275,3284,3294,3303,3313,3322,3332,3341,3351,3361,3371,3381,3391,3401,3411,3421,3431,3440,3450,3460,3469,3478,3487,3496,3505,3513,3522,3530,3538,3547,3555,3563,3571,3579,3587,3596,3604,3612,3620,3628,3637,3645,3653,3661,3669,3677,3686,3694,3702,3710,3718,3726,3734,3742,3750,3758,3766,3774,3782,3790,3798,3806,3814,3822,3830,3838,3846,3854,3861,3869,3877,3884,3892,3900,3907,3915,3922,3930,3937,3945,3952,3959,3967,3974,3981,3988,3995,4002,4009,4016,4022,4029,4036,4042,4049,4055,4062,4069,4075,4082,4088,4095};
const HI_U16  EV100_NIGHT_GAMMA[257] ={0,44,88,133,178,223,268,313,358,402,447,491,536,579,622,663,703,740,776,810,843,876,909,942,976,1012,1048,1084,1120,1156,1192,1226,1260,1292,1323,1354,1384,1414,1442,1470,1497,1523,1548,1572,1595,1618,1640,1662,1684,1706,1728,1749,1770,1790,1809,1829,1848,1866,1885,1903,1921,1940,1958,1977,1996,2014,2033,2052,2071,2090,2109,2128,2147,2165,2184,2202,2220,2238,2256,2273,2291,2308,2325,2341,2358,2375,2391,2407,2423,2439,2455,2471,2486,2501,2516,2531,2546,2560,2574,2588,2601,2614,2628,2641,2653,2666,2679,2691,2704,2716,2728,2741,2754,2766,2779,2791,2804,2816,2828,2841,2853,2865,2877,2889,2901,2913,2925,2936,2948,2959,2970,2981,2992,3003,3013,3024,3034,3045,3055,3065,3076,3086,3096,3106,3117,3127,3137,3147,3157,3166,3176,3186,3196,3206,3215,3225,3235,3244,3254,3264,3274,3283,3293,3303,3313,3323,3333,3343,3353,3363,3373,3382,3392,3402,3411,3420,3430,3438,3447,3456,3464,3473,3481,3489,3498,3506,3514,3522,3530,3538,3547,3555,3564,3572,3581,3589,3598,3606,3615,3624,3632,3641,3650,3658,3667,3676,3684,3693,3702,3710,3719,3727,3736,3744,3753,3762,3770,3779,3787,3796,3804,3812,3820,3829,3837,3844,3852,3860,3867,3874,3881,3889,3896,3903,3910,3917,3925,3932,3940,3948,3956,3964,3972,3980,3989,3997,4006,4015,4024,4033,4041,4050,4059,4068,4077,4086,4095};



#define LINE_DAY_LUM    68
#define LINE_NIGHT_LUM  78

#define LINE_CP_LUM     90


#define DEFAULT_MD_LEN 128

HI_U8 gu8SensorMode;
static int sensorid;
int sensorType=0;
//static int user_select_luma=80;
static int user_sensor_mod=0;
static int user_select_gamma=0;

static signed int user_set_contrast=128;
static BOOL bNightState =FALSE;
static signed int user_set_luma=128;



static BOOL bUserWDROn = FALSE; //用户打开WDR标志
static float CURRENT_SENSOR_FPS =25.0;
static int   USER_SENSOR_FPS =25;
static int   LowFpsRatio =16;
static pthread_mutex_t isp_rf_mutex = PTHREAD_MUTEX_INITIALIZER;
static pthread_mutex_t wdr_state_mutex = PTHREAD_MUTEX_INITIALIZER;

static BOOL CURRENT_WDR_STATE = FALSE;
static int sensor_wdr_flag =0; //只用来夜视白天的宽动态切换标志

COMM_ISP_PARAMS *pCOMM_ISP_PARAMS = NULL;


static HI_U32 AR0230_RouteNode[5][3]=		
{
	{10,  1024,   1},		 
	{15000, 1024,   1},		
	{15000, 4096,   1},		 
	{333333, 4096,   1},		  
	{333333, 49152, 1}
};
/*
static HI_U32 AR0230_RouteNode[7][3]=		
{
	{10,  1024,   1},		 
	{10000, 1024,   1},		
	{10000, 4096,   1},	
	{20000, 4096,   1},
	{20000, 8192,   1},		  
	{33333, 8192, 1},
	{33333, 49152, 1}
};
*/
static HI_U32 au32RouteNode_imx290[7][3]=		
{
//	{43,  1024,   1},		 
	{900, 1024,   1},	
	{2341, 1024,   1},
	{2341, 3228,   1},	
//	{4000, 3228,   1},
	{4882, 3228,   1},
	{4882, 5120,   1},
	{6785, 5120,   1},		  
	{6785, 16384, 1},	
	
};
extern int imx290_wdr_mipi_flag;

COMM_ISP_PARAMS MN34227_COMM_ISP_PARAMS=
{	
	
	{
	     //sharpd 越来越强 
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},///default-index3
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
		{{90,80,72,70,70,70,70,68,66,60,60,60,60,60,60,60}},
	},

	// sharpeud  降噪越来越强
	{
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},//0
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},//index-1
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},//index-2
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},//default -index 3
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},
		{{24,23,23,20,20,18,18,18,17,15,0,0,0,0,0,0}},
	},	

	// TextureThr  小光圈参数
	{
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},//0
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},//index-1
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},//index-2
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},//default -index 3
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},
		{{2,4,6,8,10,12,14,18,24,40,52,52,52,52,52,52}},
	},	

	// DetailCtrl 小光圈参数
	{
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},//0
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},//index-1
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},//index-2
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},//default -index 3
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},
		{{128,128,128,120,120,118,118,110,100,100,100,100,100,100,100,100}},
	},	
	
	   //NoiseCoringWeight 越来越小 OK
	{
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},//default-index3
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
		{{1200,1100,1000,1000,1000,900,900,800,800,800,800,600,400,400,300,300}},
	},
	

		//SBS3 小光圈参数
	{
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},//default-index3
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
	},
		//SDS3  小光圈参数
	{
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},//default
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
		{{5,15,25,40,50,50,60,60,60,60,60,60,60,60,60,60}},
	},	

		//MATH  小光圈参数
	
	{	
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},//default
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
		{{100,105,110,115,125,130,130,132,132,132,132,143,143,143,143,143}},
	},
/*		//SBS3
	{
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},//default-index3
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
		{{0,0,0,10,20,30,30,30,30,30,30,30,30,30,30,30}},
	},
		//SDS3
	{	
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},//default
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
		{{0,0,0,10,20,30,30,30,30,50,50,50,50,50,50,50}},
	},	

		//MATH
	
	{	
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},//default
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
		{{98,102,106,106,114,122,128,136,139,142,143,143,143,143,143,143}},
	},*/
};

static HI_U8 leading_one_position(const HI_U32 in)
{
    HI_U8 pos = 0;
    HI_U32 val = in;
    if (val >= 1<<16) { val >>= 16; pos += 16; }
    if (val >= 1<< 8) { val >>=  8; pos +=  8; }
    if (val >= 1<< 4) { val >>=  4; pos +=  4; }
    if (val >= 1<< 2) { val >>=  2; pos +=  2; }
    if (val >= 1<< 1) {           pos +=  1; }
    return pos;
}

//  y = log2(x)
//  input:  Integer: val
//  output: Fixed point x.y
//  y: out_precision



HI_U32 log2_int_to_fixed(const HI_U32 val, const HI_U8 out_precision, const HI_U8 shift_out)
{
	int i;
	HI_U8 pos = 0;
	HI_U32 a = 0;
	HI_U32 b = 0;
	HI_U32 in = val;
	HI_U32 result = 0;
	HI_U32 ret;
	const unsigned char precision = out_precision;

	if(0 == val)
	{
		return 0;
	}
	// integral part
	pos = leading_one_position(val);
	// fractional part
	a = (pos <= 15) ? (in << (15 - pos)) : (in >> (pos - 15));
	for(i = 0; i < precision; ++i)
	{
		b = a * a;
		if(b & (1<<31))
		{
			result = (result << 1) + 1;
			a = b >> 16;
		}
		else
		{
			result = (result << 1);
			a = b >> 15;
		}
	}
	ret = (((pos << precision) + result) << shift_out) | ((a & 0x7fff)>> (15-shift_out));
	return ret;
	
}

int isp_comm_sharpen_level_set(ISP_SET_LEVEL_INDEX  index)
{
	if(index > ISP_SET_LEVEL_MAX)
		return 0;
	
	ISP_SHARPEN_ATTR_S stSharpenAttr;
	
	HI_MPI_ISP_GetSharpenAttr(0,&stSharpenAttr);
	stSharpenAttr.bEnable = HI_TRUE;
	stSharpenAttr.enOpType = OP_TYPE_AUTO;
	memcpy(stSharpenAttr.stAuto.au8SharpenD,pCOMM_ISP_PARAMS->SharpenAltD[index].data,16);
	memcpy(stSharpenAttr.stAuto.au16SharpenUd,pCOMM_ISP_PARAMS->SharpenUd[index].data,16*2);
	//小光圈参数
	memcpy(stSharpenAttr.stAuto.au8TextureThr,pCOMM_ISP_PARAMS->TextureThr[index].data,16);
	memcpy(stSharpenAttr.stAuto.au8DetailCtrl,pCOMM_ISP_PARAMS->DetailCtrl[index].data,16);
	HI_MPI_ISP_SetSharpenAttr(0,&stSharpenAttr);

	return 0;
}

int isp_comm_denoise_level_set(ISP_SET_LEVEL_INDEX  index)
{
	if(index >ISP_SET_LEVEL_MAX)
		return 0;
	index = ISP_SET_LEVEL_MAX -index; //

	ISP_NR_ATTR_S stNrAttr;
	
	HI_MPI_ISP_GetNRAttr(0,&stNrAttr);
	stNrAttr.bEnable = HI_TRUE;
	stNrAttr.enOpType = OP_TYPE_AUTO;
	memcpy(stNrAttr.stAuto.au16CoringWeight,pCOMM_ISP_PARAMS->NoiseCoringWeight[index].data,16);
	HI_MPI_ISP_SetNRAttr(0,&stNrAttr);
	

	return 0;
}


int jv_sensor_wdr_switch(int mode);
int jv_sensor_wdr_mode_get();


BOOL __check_wdr() //判断是否3M wdr 版本
{

	char *devName;
	devName = hwinfo.devName;
	if (devName && (strstr(devName, "3MWDR")))
	{
		return TRUE;
	}
	else
		return FALSE;
}
BOOL __check_live() //判断是否中维直播模式
{

	char *devName;
	devName = hwinfo.devName;
	if (devName && (strstr(devName, "LIVE")))
	{
		return TRUE;
	}
	else
		return FALSE;
}

BOOL __check_cp() //判断是否为车牌特定版本。
{

	char *product;
	product = hwinfo.product;
	if (product && (strstr(product, "cp")||strstr(product, "CP")))
	{
		return TRUE;
	}
	else
		return FALSE;
}



int isp_wdr_init(int mode)
{
	ISP_DEV IspDev =0;
	
	if(mode==0)//线性
	{
		if(sensorType == SENSOR_IMX290)
		{
			ISP_EXPOSURE_ATTR_S stExpAttr;
			HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
			stExpAttr.stAuto.stSysGainRange.u32Max = 150*1024; 
			stExpAttr.u8AERunInterval=2;
			HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
		}

		if(sensorType == SENSOR_AR0237DC)
		{
			ISP_EXPOSURE_ATTR_S stExpAttr;
			HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
			stExpAttr.stAuto.stSysGainRange.u32Max = 256*1024;//110*1024; //0x40:0x3c 64:60
			stExpAttr.u8AERunInterval=2;
			HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);



		}
        if(sensorType == SENSOR_MN34227)
		{
			ISP_EXPOSURE_ATTR_S stExpAttr;
			HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
			stExpAttr.stAuto.stSysGainRange.u32Max = 512*1024; 
			stExpAttr.u8AERunInterval=2;
			HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);



		}
	}
	else
	{
		if(sensorType == SENSOR_IMX290)
		{
			//return 0;
			
			ISP_EXPOSURE_ATTR_S stExpAttr;
			HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
			stExpAttr.stAuto.stExpTimeRange.u32Max =6785;//6785;
			stExpAttr.stAuto.stSysGainRange.u32Max = 16384;//16*1024; 
			HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);

			
			ISP_WDR_FS_ATTR_S  pstFSWDRAttr;
			HI_MPI_ISP_GetFSWDRAttr(IspDev,&pstFSWDRAttr);
			pstFSWDRAttr.bMotionComp = HI_FALSE; //关闭运动补偿
			HI_MPI_ISP_SetFSWDRAttr(IspDev,&pstFSWDRAttr);
			
			
			ISP_DRC_ATTR_S pstDRCAttr;
			HI_MPI_ISP_GetDRCAttr(IspDev, &pstDRCAttr);
#ifdef _UNKNOW//add by tgh
			pstDRCAttr.stAuto.u32Strength = 128;
#endif
		    HI_MPI_ISP_SetDRCAttr(IspDev, &pstDRCAttr); 		
			
			ISP_AE_ROUTE_S  pstAERouteAttr;
			HI_MPI_ISP_GetAERouteAttr(IspDev,&pstAERouteAttr);
			pstAERouteAttr.u32TotalNum=7;
			memcpy(pstAERouteAttr.astRouteNode,au32RouteNode_imx290,sizeof(au32RouteNode_imx290));
			HI_MPI_ISP_SetAERouteAttr(IspDev,&pstAERouteAttr);
	
			
		}	
		
	}
	return 0;
}




//向物理寄存器设置data
int set_hwaddr_value(HI_U32 hwaddr,HI_U32 newdata,HI_U32 *old_data)
{
#if 0
	 VOID* pMem  = NULL;
	 pMem = memmap(hwaddr, DEFAULT_MD_LEN);
	 if(old_data)
	 	*old_data = *(U32*)pMem;
	 *(U32*)pMem = newdata; 
	// memunmap(pMem);
	 //printf("VM address is %p\n",pMem);
#endif
	char tmpbuf[32] = {0};
	sprintf(tmpbuf, "himm 0x%x 0x%x", hwaddr, newdata);
	utl_system(tmpbuf);

	return 0;
}

int reg_spi_read(unsigned int addr)
{
	int fd = -1;
	unsigned int value = 0;
	int ret=0;
	
	// spi硬件使能
	set_hwaddr_value(0x12040028,0x1,NULL);
	set_hwaddr_value(0x12040030,0x1,NULL);
	set_hwaddr_value(0x1204002c,0x1,NULL);
	set_hwaddr_value(0x12040034,0x1,NULL);

	set_hwaddr_value(0x12040828,0x120,NULL);
	set_hwaddr_value(0x1204082c,0x120,NULL);
	set_hwaddr_value(0x12040830,0x150,NULL);
	set_hwaddr_value(0x12040834,0x130,NULL);
	
	usleep(100*1000);
	
	fd = open("/dev/spidev0.0", 0);
	if (fd < 0) 
	{		
		printf("Open spidev0.0 error!\n");	
		return -1;
	}
	value = SPI_MODE_3 | SPI_LSB_FIRST;
	ret = ioctl(fd, SPI_IOC_WR_MODE, &value);
	if (ret < 0)    
	{        
		printf("ioctl SPI_IOC_WR_MODE err, value = %d ret = %d\n", value, ret);  
		close(fd);
		return ret;    
	}
	value = 8;    
	ret = ioctl(fd, SPI_IOC_WR_BITS_PER_WORD, &value);    
	if (ret < 0)    
	{        
		printf("ioctl SPI_IOC_WR_BITS_PER_WORD err, value = %d ret = %d\n",value, ret);     
		close(fd);
		return ret;    
	}    
	value = 2000000;    
	ret = ioctl(fd, SPI_IOC_WR_MAX_SPEED_HZ, &value);    
	if (ret < 0)    
	{        
		printf("ioctl SPI_IOC_WR_MAX_SPEED_HZ err, value = %d ret = %d\n",value, ret);    
		close(fd);
		return ret;    
	}

	struct spi_ioc_transfer mesg[1];    
	unsigned char  tx_buf[8] = {0};    
	unsigned char  rx_buf[8] = {0};        
	tx_buf[0] = (addr & 0xff00) >> 8;    
	tx_buf[0] |= 0x80;    
	tx_buf[1] = addr & 0xff;    
	tx_buf[2] = 0;    
	memset(mesg, 0, sizeof(mesg));    
	mesg[0].tx_buf = (__u32)tx_buf;    
	mesg[0].len    = 3;    
	mesg[0].rx_buf = (__u32)rx_buf;    
	mesg[0].cs_change = 1;    
	ret = ioctl(fd, SPI_IOC_MESSAGE(1), mesg);    
	if (ret  < 0)
	{          
		printf("SPI_IOC_MESSAGE error \n");  
		close(fd);
		return -1;      
	}   
	close(fd);
	return rx_buf[2];

}


int reg_i2c_read(unsigned int device_addr,unsigned int reg_addr,unsigned int reg_width,unsigned int data_width)
{
	int fd = -1;
	int ret = 0;
	struct i2c_rdwr_ioctl_data rdwr = {};
	struct i2c_msg msg[2] = {};
	unsigned int data = 0;
	int idx = 0;
	unsigned char buf[4] = {};

	//i2c硬件使能
	set_hwaddr_value(0x12040028,0x0,NULL);
	set_hwaddr_value(0x1204002c,0x3,NULL);
	set_hwaddr_value(0x12040030,0x3,NULL);
	set_hwaddr_value(0x12040034,0x0,NULL);

	set_hwaddr_value(0x12040828,0x130,NULL);
	set_hwaddr_value(0x1204082c,0x130,NULL);
	set_hwaddr_value(0x12040830,0x170,NULL);
	set_hwaddr_value(0x12040834,0x130,NULL);
	
	usleep(100*1000);
	
	fd = open("/dev/i2c-0", O_RDWR);
	if(fd < 0)
	{
		printf("Open /dev/i2c-0 error!\n");
		return -1;
	}
	device_addr = device_addr>>1;
	ret = ioctl(fd, I2C_SLAVE_FORCE, device_addr);
	if (ret < 0)
	{
		printf("CMD_SET_DEV error!\n");
		close(fd);
		return ret;
	}	

	msg[0].addr = device_addr;
	msg[0].flags = 0;
	msg[0].len = reg_width;
	msg[0].buf = buf;

	msg[1].addr = device_addr;
	msg[1].flags = 0;
	msg[1].flags |= I2C_M_RD;
	msg[1].len = data_width;
	msg[1].buf = buf;

	rdwr.msgs = &msg[0];
	rdwr.nmsgs = (__u32)2;
	if (reg_width == 2) {
		buf[0] = (reg_addr >> 8) & 0xff;
		buf[1] = reg_addr & 0xff;
	} else
		buf[0] = reg_addr & 0xff;

	ret = ioctl(fd, I2C_RDWR, &rdwr);
	
	if (ret != 2) {
		printf("CMD_I2C_READ error!,%d\n",ret);
		close(fd);
		return ret;
	}
	
	if (data_width == 2)
	{
		data = buf[0] <<8 | (buf[1]);
	} 
	else
		data = buf[0];

	printf("0x%x 0x%x\n", reg_addr, data);

	close(fd);
	return data;
}

int reg_i2c_write(unsigned int device_addr,unsigned int reg_addr,unsigned int reg_width,unsigned int data_width,unsigned int data)
{
	int g_fd = -1;
	int ret;

	g_fd = open("/dev/i2c-0", O_RDWR);
	if(g_fd < 0)
	{
	    printf("Open /dev/i2c-0 error!\n");
	    return -1;
	}

	ret = ioctl(g_fd, I2C_SLAVE_FORCE, (device_addr>>1));
	if (ret < 0)
	{
	    printf("CMD_SET_DEV error!\n");
		close(g_fd);
	    return ret;
	}
	int idx = 0;
	char buf[8];

	if (reg_width == 2) 
	{
		buf[idx] = (reg_addr >> 8) & 0xff;
		idx++;
		buf[idx] = reg_addr & 0xff;
		idx++;
	} 
	else 
	{
		buf[idx] = reg_addr & 0xff;
		idx++;
	}

	if (data_width == 2) 
	{
		buf[idx] = (data >> 8) & 0xff;
		idx++;
		buf[idx] = data & 0xff;
		idx++;
	} 
	else 
	{
		buf[idx] = data & 0xff;
		idx++;
	}

    ret = write(g_fd, buf, (reg_width + data_width));
    if(ret < 0)
    {
        printf("I2C_WRITE error!\n");
		close(g_fd);
        return -1;
    }
	
	close(g_fd);
	return 0;
}

int isp_acm_set_mn34227(BOOL bEnable)
{
	ISP_ACM_LUT_S pstACMLut;
const short LUT_Luma[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -2,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   0,   3,   0,  -2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -15,   8,   8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -1,   1,   1,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,   1,   8,  25,  26,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   6,  12,   0,  75,  39,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,   0,   0, 126,  76,  10,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 129, 103,  17,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 197, 250,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,  13,  13,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  14,  23,  66,  67,  33,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   8,  18,  36,   0, 178,  79,   8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,  17,  39,   0, 250, 141,  16,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 250, 184,  22,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 250, 182,  45,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 248, 250,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   1,  13,  12,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  16,  22,  63,  67,  31,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  19,  42,   0, 147,  78,   2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,  19,  45,   0, 226, 120,  11,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  19,   0,   0, 250, 142,  16,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 250, 133,  22,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 121,  30,  24,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -26,  22,  39,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  -1,  -1,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,   3,  14,  35,  36,  17,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  14,  22,  85,  95,  40,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  13,  24,   0,   0,  16,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   8,  25,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Hue[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   5,   2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,  14,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  34,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   2,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   2,   8,   9,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,   0,  22,   8,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,  39,  16,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  57,  26,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  23,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   3,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   3,  10,  11,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   0,  27,   9,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,   0,  40,  16,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  50,  23,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  60,  33,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  27,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   2,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   3,   9,   9,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   0,  22,   8,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   4,   0,  36,  14,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,  44,  19,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  50,  24,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  53,  30,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  60,  26,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   2,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   2,   6,   6,   2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,  15,  17,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   4,   0,   0,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Sat[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -9,  -5,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -11,   0,  -6,  12,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  20,  30, -23,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -4,  -7, -13,  -5,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -10, -16,   0,  -7,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   5,  46,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  86, 149,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  14,  -3,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -2,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -5,  -6,  -9, -16,  -4,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6, -12, -17,   0,  -6,  10,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3, -14, -32,   0,  -1,  33,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  21,  84,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  85, 167, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 132,  96,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -5,  -6,  -8, -14,  -5,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -5, -11, -16,   0,  -6,   7,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3, -12, -24,   0,  -5,  22,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1, -19,   0,   0,   7,  56,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  29, 131,  -5,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  34, 167,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  72,   4, -30,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -5,  -6,  -9,  -4,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -4, -10, -14, -30,  -6,   3,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1, -11, -23,   0,   0, -21,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1, -15, -30,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -16,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};

	memcpy(&pstACMLut.as16Y,&LUT_Luma,9*13*29 * 2);
	memcpy(&pstACMLut.as16H,&LUT_Hue,9*13*29 * 2);
	memcpy(&pstACMLut.as16S,&LUT_Sat,9*13*29 * 2);
	HI_MPI_ISP_SetAcmCoeff(0,&pstACMLut );

	ISP_ACM_ATTR_S pstACMAttr;
	HI_MPI_ISP_GetAcmAttr(0,&pstACMAttr);
	pstACMAttr.bEnable = bEnable;       
	pstACMAttr.bDemoEnable = HI_FALSE;
	pstACMAttr.u32GainLuma = 64;
	pstACMAttr.u32GainHue = 290;
	pstACMAttr.u32GainSat = 64;
	HI_MPI_ISP_SetAcmAttr(0,&pstACMAttr);
	return 0;
}

int isp_acm_set_ov2735b(BOOL bEnable)
{
ISP_ACM_LUT_S pstACMLut;
#if 0
const short LUT_Luma[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,   2,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   0,   0,   9,   3,  -2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  11,   7,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -1,   5,   4,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,   4,   9,  25,  31,  16,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,   7,  14,   0,  85,  49,   3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,   0,   0, 135,  86,  13,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 178, 115,  28,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 203, 239,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   5,  12,  12,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  13,  22,  61,  62,  32,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  17,  33,   0, 171,  79,   8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,  16,   0,   0,   0, 135,  16,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 182,  23,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 254, 207,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 198, 247,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  10,   9,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,  13,  17,  49,  53,  25,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  17,  34,   0, 132,  63,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  18,  38,   0,   0,  94,   8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  15,   0,   0,   0, 130,  14,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 125,  19,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 142,  41,  28,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -24,  20,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  -1,  -1,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -2,   8,  22,  24,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   7,  18,   0,  66,  28,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   6,  20,   0,   0,  15,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   1,  19,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Hue[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,   6,   2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,  17,   7,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  39,  14,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   2,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   2,   9,  11,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,   0,  26,   9,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,  43,  18,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  58,  29,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  27,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   3,   3,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   3,  11,  11,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   0,  30,  10,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,  17,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  23,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  58,  30,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  29,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   2,   2,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   2,   9,  10,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,   0,  22,   8,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   4,   0,   0,  15,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,  18,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  24,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  52,  30,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  60,  27,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   1,   2,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   2,   6,   6,   2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,   0,  17,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,   0,   0,  10,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Sat[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -4, -12,  -6,  -3,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2, -15,   0, -15,  10,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -4,  27, -22,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -6,  -8, -18,  -9,  -2,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2, -13, -20,   0, -19,   4,  -2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -24,   0,   0, -29,  28,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -13,  68, -23,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  12,  -5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -2,  -3,  -3,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6,  -7, -10, -19,  -9,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6, -14, -21,   0, -20,   3,  -2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3, -16,   0,   0,   0,  14,  -3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  35,  -9,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -32,  68,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  68,  68,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -5,  -7,  -9, -18,  -9,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6, -13, -19,   0, -18,   1,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3, -13, -29,   0,   0,   8,  -3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -22,   0,   0,   0,  23,  -3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  68,  -9,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -30,  68, -22,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  68,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -5,  -7, -12,  -6,  -4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3, -11, -15,   0, -16,  -1,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -12, -23,   0,   0, -23,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1, -15, -30,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -14,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -16,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
#else
const short LUT_Luma[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,   2,   4,  -1,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   0,  11,  13,   6,  -2,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  22,  23,  37,  26,   0,   9,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  58, 121, 101,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 169,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -1,   5,   5,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,   5,   9,  29,  36,  18,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   7,  14,  70,  86,  45,   5,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   8,  21, 106, 148,  94,  12,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  27,  47, 154, 190, 155,  31,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 230, 235, 113,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 253, 253,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  11,  11,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  11,  19,  53,  54,  27,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  13,  28, 115, 148,  73,   8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,  13,  30, 156, 210, 122,  13,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  14,  35, 191, 249, 163,  21,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  30,  58, 230, 246, 188,  42,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 253, 235,   0,  98,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 186, 253,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 240,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,   7,   7,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  14,  36,  40,  19,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,  13,  23,  84, 105,  48,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  12,  26, 119, 153,  69,   6,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  24, 125, 184,  99,  10,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  25, 135, 170, 105,  15,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  17,  45, 155, 119,   0,  22,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 187,  79,   1,  47,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -10,  47,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,  47,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -31,  47,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  47,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  -1,  -1,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -2,   1,  16,  17,   7,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   0,  11,  40,  44,  18,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  13,  59,  48,  13,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  11,  61,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   8,  -1,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   8,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   8,  21,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  21,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  21,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   9,  21,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  21,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Hue[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   5,   6,   3,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,  14,  21,   8,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  40,  45,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,   4, -12,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   2,   4,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   2,  10,  11,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   3,  20,  29,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  35,  45,  20,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   8,  60,  62,  26,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  26,  -7,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  16,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   3,   4,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   3,  10,  11,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,  23,  30,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  31,  43,  19,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  43,  54,  23,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   7,  61,  62,  30,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  63,   0,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  19,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   2,   4,   1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   2,   9,  10,   4,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   4,  19,  22,   8,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  26,  36,  15,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  31,  44,  18,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   4,  37,  48,  24,   1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,  49,  51,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  53,  32,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  21,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  11,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   2,   1,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   1,   1,   5,   6,   3,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   2,  12,  16,   5,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   3,  19,  27,  11,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,  19,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,  17,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   2,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -4,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -8,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -11,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};
const short LUT_Sat[9][13][29]=
{
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -4,  -7,  -5,  -2,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -9, -20, -11,   6,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20,   0, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -4,  -4,  -5, -11,  -6,  -3,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -8, -12, -20, -13,   3,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -15, -20, -20, -20,  10,  -4,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20,  14, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  -2,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -4,  -6, -10,  -5,  -3,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -8, -10, -20, -11,   1,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -10, -20, -20, -20,   6,  -3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20,  10,  -8,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -3,  -2,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -4,  -5,  -9,  -6,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -3,  -6, -10, -20,  -8,   1,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -8, -15, -20, -20,   4,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -12, -20, -20, -20,  11,  -3,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20, -20,  -6,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20,   0, -18,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -1,  -1,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -3,  -3,  -6,  -5,  -2,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2,  -6,  -8, -16,  -8,   0,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6, -11, -20, -20, -17,  -1,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -1,  -8, -13, -20,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -6, -17, -20,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  -2, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, -20,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
    {
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
        {   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,},
    },
};

#endif

	memcpy(&pstACMLut.as16Y,&LUT_Luma,9*13*29 * 2);
	memcpy(&pstACMLut.as16H,&LUT_Hue,9*13*29 * 2);
	memcpy(&pstACMLut.as16S,&LUT_Sat,9*13*29 * 2);
	HI_MPI_ISP_SetAcmCoeff(0,&pstACMLut );

	ISP_ACM_ATTR_S pstACMAttr;
	HI_MPI_ISP_GetAcmAttr(0,&pstACMAttr);
	pstACMAttr.bEnable = bEnable;       
	pstACMAttr.bDemoEnable = HI_FALSE;
#if 0
	pstACMAttr.u32GainLuma = 69;
	pstACMAttr.u32GainHue = 282;
	pstACMAttr.u32GainSat = 64;
#else
	pstACMAttr.u32GainLuma = 64;
	pstACMAttr.u32GainHue = 145;
	pstACMAttr.u32GainSat = 64;
#endif
	HI_MPI_ISP_SetAcmAttr(0,&pstACMAttr);
	return 0;
}

/*
特殊类型即设备名称.devName	 不为空的类型放在前面
为空的类型放在后面
*/
Check_Sensor_s Check_Sensor [] = {
	//imx290
	{
		.SensorType = SENSOR_OV9750m,
		.Sensor_Name = "imx290",
		.devName	= "NULL",
		.Check_Flag = HI_TRUE,
		.CommType 	= I2C,
		.I2c_Attr  	={
				.device_addr = 0x34,
				.reg_addr 	 = 0x3008,
				.reg_width   = 0x2,
				.data_width  = 0x1,
		},
		.Id_Reg_Value = 0xA0
	},
	//OV2735
	{
		.SensorType = SENSOR_OV2735,
		.Sensor_Name = "ov2735",
		.devName	= NULL,
		.Check_Flag = HI_TRUE,
		.CommType 	= I2C,
		.I2c_Attr  	={
				.device_addr = 0x79,
				.reg_addr 	 = 0x02,
				.reg_width   = 0x1,
				.data_width  = 0x1,
		},
		.Id_Reg_Value = 0x27
	},
	//MN34227
	{
		.SensorType = SENSOR_MN34227,
		.Sensor_Name = "mn34227",
		.devName	= NULL,
		.Check_Flag = HI_TRUE,
		.CommType 	= I2C,
		.I2c_Attr  	={
				.device_addr = 0x6c,
				.reg_addr 	 = 0x01,
				.reg_width   = 0x2,
				.data_width  = 0x1,
		},
		.Id_Reg_Value = 0x2
	}
};

int isp_ioctl(int fd,int cmd,unsigned long value)
{
	ISP_DEV IspDev = 0;

	switch (cmd)
	{


#if 1
		case ADJ_SCENE://场景选择
		{

			if(value == IN_DOOR)
			{
				
			}
			else if(value == OUT_DOOR)
			{
				
			}
            else if(value == NIGHT_MODE)
            {

                ISP_SATURATION_ATTR_S pstSatAttr;         //设置黑白
                pstSatAttr.enOpType = OP_TYPE_MANUAL;
                pstSatAttr.stManual.u8Saturation = 0;
                HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);      
            }
            else if(value == DAY_MODE)
            { 
                ISP_SATURATION_ATTR_S pstSatAttr;
                pstSatAttr.enOpType = OP_TYPE_MANUAL;
                pstSatAttr.stManual.u8Saturation = 0x80;
                HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);//恢复彩色模式
                    
            }
            else if(CHECK_NIGHT== value)
            {
  				//entering night mode
  				bNightState = TRUE;
				JV_ISP_COMM_Set_WDRState(FALSE);
				isp_ioctl(0,ADJ_BRIGHTNESS,user_set_luma);
				if(sensorid == SENSOR_AR0237DC)
				{
					ISP_GAMMA_ATTR_S pstGammaAttr;
					pstGammaAttr.bEnable = HI_TRUE;
					pstGammaAttr.enCurveType = ISP_GAMMA_CURVE_USER_DEFINE;
					memcpy(&pstGammaAttr.u16Table,&V300_AR0237_NIGHT_GAMMA,257 * 2);
					HI_MPI_ISP_SetGammaAttr(IspDev,&pstGammaAttr);


					ISP_SHARPEN_ATTR_S pstSharpenAttr;
					HI_U8 au8SharD[16]={85 ,	85 ,	  80,   75,    75,	    75,	    73,   70,	    66,	   60,	  180,	  200,	  200,	  200,	  200,    200};
					HI_U16 au16SharUd[16]={25 ,	25 ,	  25,    23,     23,	    23,	    22,   	20,	    20,	   	18,	  	0,	  	0,	  	0,	  	0,	  	0,    	0};
					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au8SharpenD,&au8SharD,16);
                    memcpy(&pstSharpenAttr.stAuto.au16SharpenUd,&au16SharUd,16*2);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 128*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
					
				}
                if(sensorid == SENSOR_MN34227)
                {
                    ISP_GAMMA_ATTR_S pstGammaAttr;
					pstGammaAttr.bEnable = HI_TRUE;
					pstGammaAttr.enCurveType = ISP_GAMMA_CURVE_USER_DEFINE;
					memcpy(&pstGammaAttr.u16Table,&V300_MN34227_NIGHT_GAMMA_N2,257 * 2);
					HI_MPI_ISP_SetGammaAttr(IspDev,&pstGammaAttr);

					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 256*1024;
					stExpAttr.u8AERunInterval = 1;
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);

					isp_acm_set_mn34227(FALSE);
                }
				if(sensorid == SENSOR_IMX291)
				{
					ISP_GAMMA_ATTR_S pstGammaAttr;
					pstGammaAttr.bEnable = HI_TRUE;
					pstGammaAttr.enCurveType = ISP_GAMMA_CURVE_USER_DEFINE;
					memcpy(&pstGammaAttr.u16Table,&V200_LINE_NIGHT_LV0_GAMMA,257 * 2);
					HI_MPI_ISP_SetGammaAttr(IspDev,&pstGammaAttr);

					ISP_SHARPEN_ATTR_S pstSharpenAttr;

					HI_U8 au8OverShoot[16] = {70 ,   70 ,    80,    90,    100,    100,     106,    100,      90,       60,        60,     60,     80,     80,     80,    80};
					HI_U8 au8UnderShoot[16] = {120,   120,   130,    130,    130,    130,     120,     120,     110,       90,      80,     80,    80,     80,     80,    80};
					HI_U8 au8ShootSpuSt[16] = {110,	  100,	   60,	   40,	   20,		10,     0,		 0,	     0,		 0,		 0,			0,			0,		0,		0,		0};

					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au8OverShoot,&au8OverShoot,16);
                    memcpy(&pstSharpenAttr.stAuto.au8UnderShoot,&au8UnderShoot,16);
					memcpy(&pstSharpenAttr.stAuto.au8shootSupStr,&au8ShootSpuSt,16);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 300*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
					
				}
				if(sensorid== SENSOR_OV2735)
				{
#if 1
				  	ISP_GAMMA_ATTR_S pstGammaAttr;
					pstGammaAttr.bEnable = HI_TRUE;
					pstGammaAttr.enCurveType = ISP_GAMMA_CURVE_USER_DEFINE;
					memcpy(&pstGammaAttr.u16Table,&EV100_NIGHT_GAMMA,257 * 2);
					HI_MPI_ISP_SetGammaAttr(IspDev,&pstGammaAttr);
#endif
					//memcpy(&V300_NIGHT_GAMMA,&V300_MN34227_NIGHT_GAMMA_N2,257 * 2);
					//isp_ioctl(0,ADJ_CONTRAST,user_set_contrast);
					isp_acm_set_ov2735b(FALSE);
					
					ISP_SHARPEN_ATTR_S pstSharpenAttr;
					HI_U16 SharpenUd[16]= {40,38,35,33,30,28,26,22, 90,80,80,80,80,80,80,80};
					HI_U8 SharpenD[16]={100,105,102,100,100,95,92,90, 0,0,0,0,0,0,0,0};
					HI_U8 TextureThd[16]={3,5,7,9,13,16,20,23, 46,56,66,60,0,0,0,0};
					HI_U8 SharpenEdge[16]= {150,170,183,180,180,175,165,150, 100,90,80,80,80,80,80,80};	
					HI_U8 EdgeThd[16]= {35,37,38,38,40,40,45,50, 120,150,150,150,150,150,150,150};	
					HI_U8 OverShoot[16]={90,100,108,110,110,105,93,80, 0,0,0,0,0,0,0,0};
					HI_U8 UnderShoot[16]={170,180,185,185,185,180,170,150, 0,0,0,0,0,0,0,0};
					HI_U8 shootSupStr[16]={50,45,35,30,26,23,20,50, 100,90,80,80,80,80,80,80};
					HI_U8 DetailCtrl[16]={125,123,118,115,112,110,106,105, 100,90,80,80,80,80,80,80};
					HI_U8 Rgain[16]={31,31,31,31,31,31,31,31, 31,31,31,31,31,31,31,31};
					HI_U8 Bgain[16]={31,31,31,31,31,31,31,31, 31,31,31,31,31,31,31,31};
	
					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au16SharpenUd,&SharpenUd,16*2);
                    memcpy(&pstSharpenAttr.stAuto.au8SharpenD,&SharpenD,16);
					memcpy(&pstSharpenAttr.stAuto.au8TextureThr,&TextureThd,16);
					memcpy(&pstSharpenAttr.stAuto.au8SharpenEdge,&SharpenEdge,16);
					memcpy(&pstSharpenAttr.stAuto.au8EdgeThr,&EdgeThd,16);
					memcpy(&pstSharpenAttr.stAuto.au8OverShoot,&OverShoot,16);
                    memcpy(&pstSharpenAttr.stAuto.au8UnderShoot,&UnderShoot,16);
					memcpy(&pstSharpenAttr.stAuto.au8shootSupStr,&shootSupStr,16);
					memcpy(&pstSharpenAttr.stAuto.au8DetailCtrl,&DetailCtrl,16);
					memcpy(&pstSharpenAttr.stAuto.au8RGain,&Rgain,16);
					memcpy(&pstSharpenAttr.stAuto.au8BGain,&Bgain,16);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);

					HI_U16 NoiseSuppressStr[16]= {4,6,10,16,35,60,90,100,  30,40,43,26,28,30,32,36};
					ISP_DEMOSAIC_ATTR_S  pstDemosaicAttr;
					HI_MPI_ISP_GetDemosaicAttr(0, &pstDemosaicAttr);
					memcpy(&pstDemosaicAttr.stAuto.au16NoiseSuppressStr,&NoiseSuppressStr,16*2);
					HI_MPI_ISP_SetDemosaicAttr(0, &pstDemosaicAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 62*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
				}


            }
            else if(CHECK_DAY == value)
            {
            	//entering day mode
            	bNightState = FALSE;
				JV_ISP_COMM_Set_WDRState(bUserWDROn);				
				isp_ioctl(0,ADJ_BRIGHTNESS,user_set_luma);
				isp_ioctl(0,ADJ_CONTRAST,user_set_contrast);

				if(sensorid== SENSOR_AR0237DC)
				{
					ISP_SHARPEN_ATTR_S pstSharpenAttr;
					HI_U8 au8SharD[16]={85 ,	85 ,	  80,   75,    70,	    70,	    70,   70,	    66,	   60,	  180,	  200,	  200,	  200,	  200,    200};
					HI_U16 au16SharUd[16]={25 ,	25 ,	  25,    23,     22,	    21,	    20,   	20,	    20,	   	18,	  	0,	  	0,	  	0,	  	0,	  	0,    	0};
					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au8SharpenD,&au8SharD,16);
                    memcpy(&pstSharpenAttr.stAuto.au16SharpenUd,&au16SharUd,16*2);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 256*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
				}
			
                if(sensorid== SENSOR_MN34227)
				{
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 512*1024;
					stExpAttr.u8AERunInterval = 1;
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);

					isp_acm_set_mn34227(TRUE);
				}
				if(sensorid== SENSOR_IMX291)
				{
					ISP_SHARPEN_ATTR_S pstSharpenAttr;
					HI_U8 au8OverShoot[16] = {70 ,   70 ,    80,    90,    100,    100,     100,     90,     70,       60,        60,     60,     80,     80,     80,    80};
					HI_U8 au8UnderShoot[16] = {120,   120,   130,    130,    130,    130,     120,     120,     100,       90,      80,     80,    80,     80,     80,    80};
					HI_U8 au8ShootSpuSt[16] = {110,	  100,	   60,	   40,	   20,		10,     0,		 0,	     0,		 0,		 0,			0,			0,		0,		0,		0};
					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au8OverShoot,&au8OverShoot,16);
                    memcpy(&pstSharpenAttr.stAuto.au8UnderShoot,&au8UnderShoot,16);
					memcpy(&pstSharpenAttr.stAuto.au8shootSupStr,&au8ShootSpuSt,16);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 620*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
				}
				if(sensorid == SENSOR_IMX290)
				{
					if(sensor_wdr_flag)//if wdr enabled,disable it
					{
						jv_sensor_wdr_switch(1);
					}
				}
				if(sensorid== SENSOR_OV2735)
				{
					isp_acm_set_ov2735b(TRUE);
					ISP_SHARPEN_ATTR_S pstSharpenAttr;
					HI_U16 SharpenUd[16]= {45,42,42,42,38,35,30,28, 90,80,80,80,80,80,80,80};
					HI_U8 SharpenD[16]={112,115,108,105,105,105,100,90, 0,0,0,0,0,0,0,0};
					HI_U8 TextureThd[16]={3,4,5,7,12,18,25,29, 46,56,66,60,0,0,0,0};
					HI_U8 SharpenEdge[16]= {138,140,142,140,130,120,100,100, 100,90,80,80,80,80,80,80};	
					HI_U8 EdgeThd[16]= {62,60,48,45,50,50,55,60, 120,150,150,150,150,150,150,150};	
					HI_U8 OverShoot[16]={83,87,90,90,85,80,70,60, 0,0,0,0,0,0,0,0};
					HI_U8 UnderShoot[16]={160,155,155,158,160,140,130,120, 0,0,0,0,0,0,0,0};
					HI_U8 shootSupStr[16]={65,60,60,55,55,60,60,70, 100,90,80,80,80,80,80,80};
					HI_U8 DetailCtrl[16]={128,123,120,118,115,113,108,103, 100,90,80,80,80,80,80,80};
					HI_U8 Rgain[16]={15,15,17,20,25,31,31,31, 31,31,31,31,31,31,31,31};
					HI_U8 Bgain[16]={20,20,22,22,25,31,31,31, 31,31,31,31,31,31,31,31};
	
					HI_MPI_ISP_GetSharpenAttr(0,&pstSharpenAttr);
					memcpy(&pstSharpenAttr.stAuto.au16SharpenUd,&SharpenUd,16*2);
                    memcpy(&pstSharpenAttr.stAuto.au8SharpenD,&SharpenD,16);
					memcpy(&pstSharpenAttr.stAuto.au8TextureThr,&TextureThd,16);
					memcpy(&pstSharpenAttr.stAuto.au8SharpenEdge,&SharpenEdge,16);
					memcpy(&pstSharpenAttr.stAuto.au8EdgeThr,&EdgeThd,16);
					memcpy(&pstSharpenAttr.stAuto.au8OverShoot,&OverShoot,16);
                    memcpy(&pstSharpenAttr.stAuto.au8UnderShoot,&UnderShoot,16);
					memcpy(&pstSharpenAttr.stAuto.au8shootSupStr,&shootSupStr,16);
					memcpy(&pstSharpenAttr.stAuto.au8DetailCtrl,&DetailCtrl,16);
					memcpy(&pstSharpenAttr.stAuto.au8RGain,&Rgain,16);
					memcpy(&pstSharpenAttr.stAuto.au8BGain,&Bgain,16);
					HI_MPI_ISP_SetSharpenAttr(0,&pstSharpenAttr);

					HI_U16 NoiseSuppressStr[16]= {4,6,10,16,28,44,64,20,  30,40,43,26,28,30,32,36};
					ISP_DEMOSAIC_ATTR_S  pstDemosaicAttr;
					HI_MPI_ISP_GetDemosaicAttr(0, &pstDemosaicAttr);
					memcpy(&pstDemosaicAttr.stAuto.au16NoiseSuppressStr,&NoiseSuppressStr,16*2);
					HI_MPI_ISP_SetDemosaicAttr(0, &pstDemosaicAttr);
					
					ISP_EXPOSURE_ATTR_S stExpAttr;
					HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
					stExpAttr.stAuto.stSysGainRange.u32Max = 62*1024; 
					HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
				}
				
            }
            
            else if(DEFAULT == value)
            {
 
            }
            else if(MODE1== value)
            {

            }
			break;
		}
        case ADJ_BRIGHTNESS://设置亮度
             {

                if(value <0||value > 255)
                    return -1;
				user_set_luma  = value;
				ISP_EXPOSURE_ATTR_S stExpAttr;
				HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
				
				signed int value_cal =64;
				if(bNightState)
				{
					value_cal = user_set_luma -LINE_NIGHT_LUM;
					if(sensorid == SENSOR_IMX291)
					{
						value_cal = user_set_luma -75;
					}
				}
				else
				{
					if(sensorid == SENSOR_AR0237DC || sensorid == SENSOR_OV2735)
						value_cal = user_set_luma -73;
					else if(sensorid==SENSOR_IMX291 || sensorid==SENSOR_MN34227)
						value_cal = user_set_luma -68;
					else
						value_cal = user_set_luma -LINE_DAY_LUM;
				}
									
				if(value_cal<0)
					value_cal =0;
				stExpAttr.stAuto.u8Compensation = value_cal;
				HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr);
                break;
             }
        case ADJ_SATURATION://设置饱和度
             {
			 	signed int auSat[16];
				signed int tmpSat;
                if(value >255 || value <0)
                    return -1;

				ISP_SATURATION_ATTR_S pstSatAttr;
				HI_MPI_ISP_GetSaturationAttr(IspDev, &pstSatAttr);
				pstSatAttr.enOpType = OP_TYPE_AUTO;
				//pstSatAttr.stManual.u8Saturation = value;

				if(sensorid == SENSOR_AR0237DC)
				{
					 tmpSat =  value;
					 auSat[0] = tmpSat;       //128
					 auSat[1] = tmpSat;       //128
					 auSat[2] = tmpSat;       //128
					 auSat[3] = tmpSat-10;    //118
					 
					 auSat[4] = tmpSat-22;    //106
					 auSat[5] = tmpSat-40;    //88
					 auSat[6] = tmpSat-50;    //78
					 auSat[7] = tmpSat-56;    //72
					 auSat[8] = tmpSat-58;    //70
					 auSat[9] = tmpSat-60;    //68
					 auSat[10] = tmpSat-60;    //68
					 auSat[11] = tmpSat-60;    //68
					 auSat[12] = tmpSat-60;    //68
					 auSat[13] = tmpSat-60;    //68
					 auSat[14] = tmpSat-60;    //68
					 auSat[15] = tmpSat-60;    //68	   	   
				}
				else if(sensorid == SENSOR_OV2735)
				{
					 tmpSat =  value;
					 auSat[0] = tmpSat;       //128
					 auSat[1] = tmpSat;       //128
					 auSat[2] = tmpSat;       //128
					 auSat[3] = tmpSat-10;    //118
					 
					 auSat[4] = tmpSat-28;    //106
					 auSat[5] = tmpSat-35;    //98
					 auSat[6] = tmpSat-48;    //88
					 auSat[7] = tmpSat-56;    //72
					 auSat[8] = tmpSat-58;    //70
					 auSat[9] = tmpSat-60;    //68
					 auSat[10] = tmpSat-60;    //68
					 auSat[11] = tmpSat-60;    //68
					 auSat[12] = tmpSat-60;    //68
					 auSat[13] = tmpSat-60;    //68
					 auSat[14] = tmpSat-60;    //68
					 auSat[15] = tmpSat-60;    //68	   	   
				}
                else if(sensorid == SENSOR_MN34227)
				{
					 tmpSat =  value;
					 auSat[0] = tmpSat;       //128
					 auSat[1] = tmpSat;       //128
					 auSat[2] = tmpSat;       //128
					 auSat[3] = tmpSat-10;    //118
					 
					 auSat[4] = tmpSat-20;    //108
					 auSat[5] = tmpSat-32;    //96
					 auSat[6] = tmpSat-42;    //86	
					 auSat[7] = tmpSat-50;    //78
					 auSat[8] = tmpSat-56;    //72
					 auSat[9] = tmpSat-60;    //68 
					 auSat[10] = tmpSat-60;    //68
					 auSat[11] = tmpSat-60;    //68
					 auSat[12] = tmpSat-60;    //68
					 auSat[13] = tmpSat-60;    //68
					 auSat[14] = tmpSat-60;    //68
					 auSat[15] = tmpSat-60;    //68	   
                 }
				else if(sensorid == SENSOR_IMX291)
				{
					 tmpSat =  value;
					 auSat[0] = tmpSat;       //118
					 auSat[1] = tmpSat;       //118
					 auSat[2] = tmpSat;       //118
					 auSat[3] = tmpSat;       //103
					 auSat[4] = tmpSat-6;    //50
					 
					 auSat[5] = tmpSat-8;    //113
					 auSat[6] = tmpSat-16;    //103
					 auSat[7] = tmpSat-23;    //93
					 auSat[8] = tmpSat-30;    //78
					 auSat[9] = tmpSat-40;    //78
					 auSat[10] = tmpSat-40;    //70
					 auSat[11] = tmpSat-40;    //64
					 auSat[12] = tmpSat-50;    //64
					 auSat[13] = tmpSat-50;    //64
					 auSat[14] = tmpSat-50;    //64
					 auSat[15] = tmpSat-50;    //64	   
                 }
				else
				{
					 tmpSat =  value;
					 auSat[0] = tmpSat;       //118
					 auSat[1] = tmpSat;       //118
					 auSat[2] = tmpSat;       //118
					 auSat[3] = tmpSat;       //103
					 auSat[4] = tmpSat-6;    //50
					 
					 auSat[5] = tmpSat-8;    //113
					 auSat[6] = tmpSat-16;    //103
					 auSat[7] = tmpSat-23;    //93
					 auSat[8] = tmpSat-30;    //78
					 auSat[9] = tmpSat-40;    //78
					 auSat[10] = tmpSat-40;    //70
					 auSat[11] = tmpSat-40;    //64
					 auSat[12] = tmpSat-50;    //64
					 auSat[13] = tmpSat-50;    //64
					 auSat[14] = tmpSat-50;    //64
					 auSat[15] = tmpSat-50;    //64	  
				}
				 int i;
				 for(i=0;i<16;i++)
				 {
						if( auSat[i]>255)
							auSat[i]=255;
						if( auSat[i]<0)
							auSat[i]=0;	
						pstSatAttr.stAuto.au8Sat[i] = (HI_U8)auSat[i];
				 }
				
				HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);
                break;
             }
        case ADJ_CONTRAST://设置对比度
             {
          
                if(value >255 || value <0)
                    return -1;
				user_set_contrast =value;
				if(bNightState)
					return 0;
				ISP_GAMMA_ATTR_S pstGammaAttr;
				HI_MPI_ISP_GetGammaAttr(IspDev,&pstGammaAttr);
				pstGammaAttr.bEnable = HI_TRUE;
				pstGammaAttr.enCurveType = ISP_GAMMA_CURVE_USER_DEFINE;
				if(sensorid == SENSOR_AR0237DC)
				{
					
					
					if(value > 200)
				  	{
						user_select_gamma =3;
					  	memcpy(&pstGammaAttr.u16Table,&V300_AR0237_DAY_LOW_GAMMA,257 * 2);
				   	}
				   	else if(value < 70)
				   	{
					   	memcpy(&pstGammaAttr.u16Table,&V200_LINE_DAY_LV2_GMMMA,257 * 2);
						user_select_gamma =1;
				   	}
				   	else
				   	{
					   	memcpy(&pstGammaAttr.u16Table,&V300_AR0237_DAY_GAMMA,257 * 2);
					   	user_select_gamma =2;
				   	}
					

				}
                else if(sensorid == SENSOR_MN34227)
				{
					
					
					if(value > 200)
				  	{
						user_select_gamma =3;
					  	memcpy(&pstGammaAttr.u16Table,&V300_MN34227_DAY_LOW_GAMMA,257 * 2);
				   	}
				   	else if(value < 70)
				   	{
					   	memcpy(&pstGammaAttr.u16Table,&V200_LINE_DAY_LV2_GMMMA,257 * 2);
						user_select_gamma =1;
				   	}
				   	else
				   	{
					   	memcpy(&pstGammaAttr.u16Table,&V300_DAY_GAMMA,257 * 2);
					   	user_select_gamma =2;
				   	}
					

                }
				else if(sensorid == SENSOR_IMX291)
				{
					
					
					if(value > 200)
				  	{
						user_select_gamma =3;
					  	memcpy(&pstGammaAttr.u16Table,&V300_IMX291_DAY_GAMMA_N1,257 * 2);
				   	}
				   	else if(value < 70)
				   	{
					   	memcpy(&pstGammaAttr.u16Table,&V200_LINE_DAY_LV2_GMMMA,257 * 2);
						user_select_gamma =1;
				   	}
				   	else
				   	{
					   //	memcpy(&pstGammaAttr.u16Table,&V300_IMX291_DAY_GAMMA_N2,257 * 2);
					   memcpy(&pstGammaAttr.u16Table,&/*V300_IMX291_DAY_GAMMA_N3*/V200_LINE_DAY_LV1_GAMMA,257 * 2);
					   user_select_gamma =2;
				   	}
					

                }
				else if(sensorid == SENSOR_OV2735)
					{
						if(value >= 200)
					  	{
							user_select_gamma =3;
						  	memcpy(&pstGammaAttr.u16Table,&V300_day_gammaH,257 * 2);
					   	}
					   	else if(value <= 70)
					   	{
						   	memcpy(&pstGammaAttr.u16Table,&V200_LINE_DAY_LV2_GMMMA,257 * 2);
							user_select_gamma =1;
					   	}
					   	else
					   	{
							memcpy(&pstGammaAttr.u16Table,&EV100_DAY_GAMMA,257 * 2);
						   	user_select_gamma =2;
					   	}
					}	
											
				HI_MPI_ISP_SetGammaAttr(IspDev,&pstGammaAttr);
												
                break;
             }
         case  ADJ_COLOURMODE:
             {
			 	ISP_SATURATION_ATTR_S pstSatAttr;
			 	HI_MPI_ISP_GetSaturationAttr(IspDev, &pstSatAttr);
                if(value == 1)//彩色模式
                {
                    
                    pstSatAttr.enOpType = OP_TYPE_AUTO;
                    HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);
                }
                else           //黑白色
                {
                   
                    pstSatAttr.enOpType = OP_TYPE_MANUAL;
                    pstSatAttr.stManual.u8Saturation = 0x0;
                    HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);
                }
                break;
             }
         case ADJ_SHARPNESS:
             {
                 break;
             }
        case SFHDR_SW:
             {
					printf("SFHDR_SW setting \n");
                    break;
             }
        case MIRROR_TURN:
                {
					if(sensorid==SENSOR_MN34227)
					{
		                if(value==0)
		                {
		                    VI_Mirror_Flip(HI_FALSE,HI_FALSE);
							reg_i2c_write(0x6c, 0x101, 2, 1, 0);
		                }
		                if(value==1)
		                {	
		                    VI_Mirror_Flip(HI_TRUE,HI_FALSE);
							reg_i2c_write(0x6c, 0x101, 2, 1, 0);
		                }
		                if(value==2)
		                {	
		                    VI_Mirror_Flip(HI_FALSE,HI_FALSE);
							reg_i2c_write(0x6c, 0x101, 2, 1, 2);
		                }
		                if(value==3)
		                {
		                    VI_Mirror_Flip(HI_TRUE,HI_FALSE);
							reg_i2c_write(0x6c, 0x101, 2, 1, 2);
		                }
					}
					else if(sensorid == SENSOR_OV2735)
					{
						int channelid;
						for(channelid=0;channelid<HWINFO_STREAM_CNT;channelid++)
							jv_stream_stop(channelid);
						Printf("MIRROR_TURN setting %ld\n",value);
						ISP_PUB_ATTR_S stPubAttr;
						if(value==0)
						{
							HI_MPI_ISP_GetPubAttr(0, &stPubAttr);
							stPubAttr.enBayer = BAYER_BGGR;
							HI_MPI_ISP_SetPubAttr(0, &stPubAttr);
	                        reg_i2c_write(0x78, 0xfd, 1, 1,	0x01);
							reg_i2c_write(0x78, 0x3f, 1, 1, 0x00);
							reg_i2c_write(0x78, 0xf8, 1, 1, 0x00);
							reg_i2c_write(0x78, 0x01, 1, 1, 0x01);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x62, 1, 1, 0x01);
							reg_i2c_write(0x78, 0x63, 1, 1, 0x00);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
							
						}
	                    if(value==1)//mirror
	                    {
	                    	HI_MPI_ISP_GetPubAttr(0, &stPubAttr);
	                    	stPubAttr.enBayer = BAYER_GBRG;
							HI_MPI_ISP_SetPubAttr(0, &stPubAttr);
	                        reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
							reg_i2c_write(0x78, 0x3f, 1, 1, 0x01);
							reg_i2c_write(0x78, 0xf8, 1, 1, 0x00);
							reg_i2c_write(0x78, 0x01, 1, 1, 0x01);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x62, 1, 1, 0x01);
							reg_i2c_write(0x78, 0x63, 1, 1, 0x00);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
						}
	                    if(value==2)//flip
	                    {
	                    	HI_MPI_ISP_GetPubAttr(0, &stPubAttr);
	                    	stPubAttr.enBayer = BAYER_GRBG;
							HI_MPI_ISP_SetPubAttr(0, &stPubAttr);
	                        reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
							reg_i2c_write(0x78, 0x3f, 1, 1, 0x02);
							reg_i2c_write(0x78, 0xf8, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x01, 1, 1, 0x01);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x62, 1, 1, 0x48);
							reg_i2c_write(0x78, 0x63, 1, 1, 0x04);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
						}
						if(value==3)//mirror and flip
	                    {
	                    	HI_MPI_ISP_GetPubAttr(0, &stPubAttr);
	                    	stPubAttr.enBayer = BAYER_RGGB;
							HI_MPI_ISP_SetPubAttr(0, &stPubAttr);
	                        reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
							reg_i2c_write(0x78, 0x3f, 1, 1, 0x03);
							reg_i2c_write(0x78, 0xf8, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x01, 1, 1, 0x01);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x02);
							reg_i2c_write(0x78, 0x62, 1, 1, 0x48);
							reg_i2c_write(0x78, 0x63, 1, 1, 0x04);
							reg_i2c_write(0x78, 0xfd, 1, 1, 0x01);
						}
						usleep(50000);
						for(channelid=0;channelid<HWINFO_STREAM_CNT;channelid++)
							jv_stream_start(channelid);
					}
					else
					{
		                if(value==0)
		                    VI_Mirror_Flip(HI_FALSE,HI_FALSE);
		                if(value==1)
		                    VI_Mirror_Flip(HI_TRUE,HI_FALSE);
		                if(value==2)
		                    VI_Mirror_Flip(HI_FALSE,HI_TRUE);
		                if(value==3)
		                    VI_Mirror_Flip(HI_TRUE,HI_TRUE);
					}
                    break;
                }
        case PFI_SW:
                {
                    if(value==PFI_ON)
                        {/*
                            ISP_IMAGE_ATTR_S pstImageAttr;
                            HI_MPI_ISP_GetImageAttr(IspDev, &pstImageAttr);
                            pstImageAttr.u16FrameRate =25;
                            HI_MPI_ISP_SetImageAttr(IspDev, &pstImageAttr);*/
                        }
                    if(value == PFI_OFF)
                        {/*
                            ISP_IMAGE_ATTR_S pstImageAttr;
                            HI_MPI_ISP_GetImageAttr(IspDev, &pstImageAttr);
                            pstImageAttr.u16FrameRate =30;
                            HI_MPI_ISP_SetImageAttr(IspDev, &pstImageAttr);*/
                        }
                    break;
                }
               case LOW_FRAME:
                {
                    //printf("HI_MPI_ISP_SetSlowFrameRate %d\n",value);
                    //HI_MPI_ISP_SetSlowFrameRate(value);
                    break;
                }
        case WDR_SW:
                {
					if(value==0) //关闭wdr
						bUserWDROn =FALSE;
					else
						bUserWDROn =TRUE;
					if(sensorid == SENSOR_OV2735)
						return 0;
					if(bNightState)
						JV_ISP_COMM_Set_WDRState(FALSE);  //夜视状态下始终关闭
					else
						JV_ISP_COMM_Set_WDRState(bUserWDROn);

                    break;
                }
#endif
		case GET_ID:
				{
#if 0
					int ret = 0;
					int tmp_sensorid = SENSOR_UNKNOWN;
					if(sensorType != SENSOR_UNKNOWN)
					{
						*(int *)value = sensorid =sensorType;
						return 0;
					}	
					if( *(int *)value > SENSOR_UNKNOWN &&  *(int *)value < SENSOR_MAX )
						tmp_sensorid = *(int *)value;
					else
						tmp_sensorid = SENSOR_UNKNOWN;

					while(1)
					{		 
						printf("==========================%d %d\n", tmp_sensorid, sensorType);
						switch(tmp_sensorid)
						{
							case SENSOR_UNKNOWN:
							case SENSOR_IMX290:
								ret = reg_i2c_read(0x34, 0x3008, 2, 1);
								printf("read 0x3004 is 0x%x\n",ret);

								if(ret == 0xA0)
								{
									int data;
									data = reg_i2c_read(0x34, 0x3D8, 2, 1);
									if(data&0x1)
									{
										*(int *)value = SENSOR_IMX291;
										sensorType =sensorid = SENSOR_IMX291;
										printf(">>>>check sensor ID : IMX291<<<<\n");
									}
									else
									{
										*(int *)value = SENSOR_IMX290;
										sensorType =sensorid = SENSOR_IMX290;
										printf(">>>>check sensor ID : IMX290<<<<\n");
									}
									return 0;
								}
								else
								{
									if(tmp_sensorid != SENSOR_UNKNOWN)
									{
										tmp_sensorid = SENSOR_UNKNOWN;
										continue;
									}
								}
							case SENSOR_OV2735:
								reg_i2c_write(0x78,0xfd,0x01,0x01,0x00);
								ret = ((reg_i2c_read(0x79,0x02,1,1)<<8)|(reg_i2c_read(0x79,0x03,1,1)));
								if(ret == 0x2735)
								{
									*(int *)value = SENSOR_OV2735;
									sensorType =sensorid = SENSOR_OV2735;
									printf(">>>>check sensor ID :OV2735<<<<<<\n");
									return 0;
								}			
								else
								{
									if(tmp_sensorid != SENSOR_UNKNOWN)
									{
										tmp_sensorid = SENSOR_UNKNOWN;
										continue;
									}
								}
							case SENSOR_MN34227:
								ret = reg_i2c_read(0x6c,0x0001,2,1);
								if(ret == 0x2)
								{
									*(int *)value = SENSOR_MN34227;
									sensorType =sensorid = SENSOR_MN34227;
									printf(">>>>check sensor ID :MN34227<<<<\n");
									return 0;
								}
								else
								{
									if(tmp_sensorid != SENSOR_UNKNOWN)
									{
										tmp_sensorid = SENSOR_UNKNOWN;
										continue;
									}
								}
							case SENSOR_IMX291:
								ret = reg_spi_read(0x208);
								printf("read 0x319 is 0x%x\n",ret);
								if(ret == 0xa0)
								{

									int data;
									data = reg_spi_read(0x3D8);
									if(data&0x1)
									{
										*(int *)value = SENSOR_IMX291;
										sensorType =sensorid = SENSOR_IMX291;
										printf(">>>>check sensor ID : IMX91<<<<\n");
									}
									else
									{
										*(int *)value = SENSOR_IMX290;
										sensorType =sensorid = SENSOR_IMX290;
										printf(">>>>check sensor ID : IMX290<<<<\n");
									}
									return 0;
								}
								else
								{
									if(tmp_sensorid != SENSOR_UNKNOWN)
									{
										tmp_sensorid = SENSOR_UNKNOWN;
										continue;
									}
								}
							case SENSOR_MAX:
							default:
								*(int *)value = SENSOR_MAX;
								sensorType =sensorid = SENSOR_MAX;
								printf(">>>>check sensor ID error !!! <<<\n");	
								return 0;
								break;
						}

					}
#else
					int ret = 0;	
					int tmp_sensorid = SENSOR_UNKNOWN;			 
					if(sensorType != SENSOR_UNKNOWN)
					{
						*(int *)value = sensorid =sensorType;
						return 0;
					}

					if( *(int *)value > SENSOR_UNKNOWN &&  *(int *)value < SENSOR_MAX )
						tmp_sensorid = *(int *)value;
					else
						tmp_sensorid = SENSOR_UNKNOWN;


					//平台当前兼容sensor数量
					int sensor_num = sizeof(Check_Sensor)/sizeof(Check_Sensor[1]);
					int i = 0;

					//二次启动及之后 ( sensor.sh文件存在)
					if(SENSOR_UNKNOWN != tmp_sensorid)
					{
						for(i=0;i<sensor_num;i++)
						{
							if(Check_Sensor[i].SensorType == tmp_sensorid)
							{
								if(Check_Sensor[i].CommType == I2C)
									ret = reg_i2c_read(Check_Sensor[i].I2c_Attr.device_addr,Check_Sensor[i].I2c_Attr.reg_addr,Check_Sensor[i].I2c_Attr.reg_width,Check_Sensor[i].I2c_Attr.data_width);
								else
									ret = reg_spi_read(Check_Sensor[i].spi_id_reg);
								//如果sensor信息与当前信息相符，则返回
								if(Check_Sensor[i].Id_Reg_Value == ret && Check_Sensor[i].Check_Flag)
								{
									*(int *)value = Check_Sensor[i].SensorType;
									sensorType = sensorid = Check_Sensor[i].SensorType;   
									if(sensorType ==SENSOR_OV2735)
									{
										ret = reg_i2c_read(0x78,0x4,1,1);
										if(ret ==0x6 ||ret ==0x7)
										{
											printf("check ov2735B sensor !!!!!!\n");
										}
									}
									printf(">>>>check sensor ID : %s <<<<<\n",Check_Sensor[i].Sensor_Name);
									return 0;
								}
								else//如果sensor信息与原来存储信息不符，则重新轮询一遍
								{	
									if(tmp_sensorid != SENSOR_UNKNOWN)
									{
										tmp_sensorid = SENSOR_UNKNOWN;
										break;
									}
								}
							}
						}
					}

					//首次启动(sensor.sh文件不存在，或者文件内容与i2c读出信息不符)
					if(SENSOR_UNKNOWN == tmp_sensorid)
					{
						//首次轮询判断设备名
						for(i=0;i<sensor_num;i++)
						{	
							if( Check_Sensor[i].Check_Flag )
							{
								if(Check_Sensor[i].CommType == I2C)
									ret = reg_i2c_read(Check_Sensor[i].I2c_Attr.device_addr,Check_Sensor[i].I2c_Attr.reg_addr,Check_Sensor[i].I2c_Attr.reg_width,Check_Sensor[i].I2c_Attr.data_width);
								else
									ret = reg_spi_read(Check_Sensor[i].spi_id_reg);
								//如果sensor信息与当前信息相符，则返回
								if(Check_Sensor[i].Id_Reg_Value == ret  )
								{
									*(int *)value = Check_Sensor[i].SensorType;
									sensorType = sensorid = Check_Sensor[i].SensorType;
									if(sensorType ==SENSOR_OV2735)
									{
										ret = reg_i2c_read(0x78,0x4,1,1);
										if(ret ==0x6 ||ret ==0x7)
										{
											printf("check ov2735B sensor !!!!!!\n");
										}
									}
									else if(sensorType == SENSOR_IMX290)
									{
										ret = reg_i2c_read(0x34, 0x3D8, 2, 1);
										if(ret & 0x1)
										{
											*(int *)value = SENSOR_IMX291;
											sensorType = sensorid = SENSOR_IMX291;
											printf("check imx291 sensor !!!!!!\n");
										}
										else
										{
											*(int *)value = SENSOR_IMX290;
											sensorType = sensorid = SENSOR_IMX290;
											printf("check imx290 sensor !!!!!!\n");
										}
									}
									printf(">>>>check sensor ID : %s <<<<<\n",Check_Sensor[i].Sensor_Name);
									return 0;
								}
							}
						}
					}
#endif
				}
				//匹配不成功
				*(int *)value = SENSOR_UNKNOWN;
				sensorType = sensorid = SENSOR_UNKNOWN;   
				printf(">>>>check sensor ID error !!! <<<\n");	
				return 0;
				break;					

		default:
			break;
	}
	return 0;
}

int __base_isp_set_fps(float frameRate)
{
	if(frameRate>=2)
	{
		ISP_PUB_ATTR_S stPubAttr;
		HI_MPI_ISP_GetPubAttr(0, &stPubAttr);	
		stPubAttr.f32FrameRate = frameRate;
		HI_MPI_ISP_SetPubAttr(0, &stPubAttr);
		CURRENT_SENSOR_FPS =stPubAttr.f32FrameRate;
		printf("<><>now sensor fps  %f\n",CURRENT_SENSOR_FPS);
	}
	return 0;
}

float JV_ISP_COMM_Get_Fps()
{

	return CURRENT_SENSOR_FPS;
}


BOOL JV_ISP_COMM_Query_LowFps()
{
	BOOL bLow = (LowFpsRatio == 16 ? FALSE:TRUE);
	return bLow;
}


int JV_ISP_COMM_Set_LowFps(int ratio)
{
	if (ratio<=0)
		return 0;
	
	pthread_mutex_lock(&isp_rf_mutex);

	float nFps= (float)USER_SENSOR_FPS*16/ratio;//使用
	nFps = ((float)((int)((nFps+0.05)*10)))/10;//保留小数点1位
	 __base_isp_set_fps(nFps);
	LowFpsRatio = ratio;
	pthread_mutex_unlock(&isp_rf_mutex);
	return 0;
}


int JV_ISP_COMM_Set_StdFps(int fps)
{

	pthread_mutex_lock(&isp_rf_mutex);
	
	float nFps= (float)fps*16/LowFpsRatio;
	nFps = ((float)((int)((nFps+0.05)*10)))/10;//保留小数点1位
	 __base_isp_set_fps(nFps);
	 
	USER_SENSOR_FPS = fps;
	
	pthread_mutex_unlock(&isp_rf_mutex);
	return 0;
}

int JV_ISP_COMM_Get_StdFps(void) //用户设置的sensor基准帧频 
{

	return USER_SENSOR_FPS;
}


int JV_ISP_COMM_Set_DRCState(BOOL bOpen)
{
	ISP_DRC_ATTR_S pstDRCAttr;
    HI_MPI_ISP_GetDRCAttr(0, &pstDRCAttr);
	if(bOpen)
	{
		pstDRCAttr.bEnable = HI_TRUE;
		pstDRCAttr.enOpType = OP_TYPE_MANUAL;
		pstDRCAttr.stManual.u8Strength = 68;
	}
	else
		pstDRCAttr.bEnable = HI_FALSE;
	HI_MPI_ISP_SetDRCAttr(0, &pstDRCAttr);  
	return 0;
}



int JV_ISP_COMM_Set_WDRState(BOOL bOpen)
{
	
	BOOL bSensorWdr =FALSE;
	signed int ret= -1;
	if(sensorid == SENSOR_OV2735)
		return 0;
	pthread_mutex_lock(&wdr_state_mutex);

	if(CURRENT_WDR_STATE == bOpen)
	{
		pthread_mutex_unlock(&wdr_state_mutex);
		printf("WDR State has been set ...\n");
		return 0;	
	}
	if(sensorid == SENSOR_OV2710)
		bSensorWdr = FALSE;
	else if(sensorid == SENSOR_OV4689)
		bSensorWdr = TRUE;
	else if(sensorid == SENSOR_AR0230)
		bSensorWdr = TRUE;
	else
		bSensorWdr = FALSE;


	if(bOpen)               //打开WDR
	{
		if(bSensorWdr)      //SENSOR  WDR 
		{
			ret=jv_sensor_wdr_switch(1);
			
		}
		else                //数字WDR
		{
			ret=JV_ISP_COMM_Set_DRCState(TRUE);
		}

	}
	else                     //关闭WDR
	{
		if(bSensorWdr)
		{
			ret=jv_sensor_wdr_switch(0);
		}
		else
		{
			ret=JV_ISP_COMM_Set_DRCState(FALSE);
		}



	}

	if(ret)
	{
		printf(" WDR State switch to %d failed\n",bOpen);
	}
	else
		CURRENT_WDR_STATE = bOpen;

	pthread_mutex_unlock(&wdr_state_mutex);
	return 0;
}


BOOL JV_ISP_COMM_Query_UserWDR()
{
	return bUserWDROn;
}



int isp_exposure_set(EXPOSURE_DATA * pdata)
{
	ISP_DEV IspDev = 0;
	ISP_EXPOSURE_ATTR_S stExpAttr;

	HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
	//stExpAttr.enOpType = pdata->type;
	//stExpAttr.stManual.enExpTimeOpType = pdata->bManualExpLineEnable;
	//stExpAttr.stManual.u32ExpTime = pdata->u32ExpLine;
	//stExpAttr.stManual.enAGainOpType = pdata->bManualAGainEnable;
	//stExpAttr.stManual.u32AGain = pdata->s32AGain;
	//stExpAttr.stManual.enDGainOpType = pdata->bManualDGainEnable;
	//stExpAttr.stManual.u32DGain = pdata->s32DGain;
	//stExpAttr.stManual.enISPDGainOpType = pdata->bManualISPDGainEnable;
	//stExpAttr.stManual.u32ISPDGain = pdata->u32ISPDGain;
	//stExpAttr.stAuto.enAEMode = pdata->enAEMode;
	//stExpAttr.stAuto.u8Tolerance = pdata->s16ExpTolerance;
	//stExpAttr.stAuto.stAGainRange.u32Max = pdata->u16AGainMax;
	//stExpAttr.stAuto.stAGainRange.u32Min = pdata->u16AGainMin;
	//stExpAttr.stAuto.stDGainRange.u32Max = pdata->u16DGainMax;
	//stExpAttr.stAuto.stDGainRange.u32Min = pdata->u16DGainMin;
	//stExpAttr.stAuto.stExpTimeRange.u32Max = pdata->u16ExpTimeMax;
	//stExpAttr.stAuto.stExpTimeRange.u32Min = pdata->u16ExpTimeMin;
	//stExpAttr.stAuto.u8Compensation = pdata->u8ExpCompensation;
	//stExpAttr.stAuto.u8Speed = pdata->u8ExpStep;
	memcpy(&(stExpAttr.stAuto.au8Weight),&(pdata->u8Weight),AE_ZONE_ROW*AE_ZONE_COLUMN);
	CHECK_RET(HI_MPI_ISP_SetExposureAttr(IspDev, &stExpAttr));

	return 0;
}

int isp_exposure_get(EXPOSURE_DATA * pdata)
{
	ISP_DEV IspDev = 0;
	ISP_EXPOSURE_ATTR_S stExpAttr;

	HI_MPI_ISP_GetExposureAttr(IspDev, &stExpAttr);
	pdata->type = stExpAttr.enOpType;
	pdata->s32AGain = stExpAttr.stManual.u32AGain;
	pdata->s32DGain = stExpAttr.stManual.u32DGain;
	pdata->u32ExpLine = stExpAttr.stManual.u32ExpTime;
	pdata->u32ISPDGain = stExpAttr.stManual.u32ISPDGain;
	pdata->bManualExpLineEnable = stExpAttr.stManual.enExpTimeOpType;
	pdata->bManualAGainEnable = stExpAttr.stManual.enAGainOpType;
	pdata->bManualDGainEnable = stExpAttr.stManual.enDGainOpType;
	pdata->bManualISPDGainEnable = stExpAttr.stManual.enISPDGainOpType;
	pdata->enAEMode = stExpAttr.stAuto.enAEMode;
	pdata->u16ExpTimeMax = stExpAttr.stAuto.stExpTimeRange.u32Max;
	pdata->u16ExpTimeMin = stExpAttr.stAuto.stExpTimeRange.u32Min;
	pdata->u16DGainMax = stExpAttr.stAuto.stDGainRange.u32Max;
	pdata->u16DGainMin = stExpAttr.stAuto.stDGainRange.u32Min;
	pdata->u16AGainMax = stExpAttr.stAuto.stAGainRange.u32Max;
	pdata->u16AGainMin = stExpAttr.stAuto.stAGainRange.u32Min;
	pdata->u8ExpStep = stExpAttr.stAuto.u8Speed;
	pdata->s16ExpTolerance = stExpAttr.stAuto.u8Tolerance;
	pdata->u8ExpCompensation = stExpAttr.stAuto.u8Compensation;
	memcpy(&(pdata->u8Weight),&(stExpAttr.stAuto.au8Weight),AE_ZONE_ROW*AE_ZONE_COLUMN);

	return 0;
}



int isp_wb_set(WB_DATA *pdata)
{
	ISP_DEV IspDev = 0;
	ISP_WB_ATTR_S stWBAttr;

	HI_MPI_ISP_GetWBAttr(IspDev, &stWBAttr);
	stWBAttr.enOpType = pdata->type;
	stWBAttr.stManual.u16Bgain = pdata->u16Bgain;
	//stWBAttr.stManual.u16Grgain = pdata->u16Ggain;
	//stWBAttr.stManual.u16Gbgain = pdata->u16Ggain;
	stWBAttr.stManual.u16Rgain = pdata->u16Rgain;
	stWBAttr.stAuto.bEnable = HI_TRUE;
	stWBAttr.stAuto.u8BGStrength = pdata->u8BGStrength;
	stWBAttr.stAuto.u8RGStrength = pdata->u8RGStrength;    
	stWBAttr.stAuto.u16ZoneSel = pdata->u8ZoneSel;
	stWBAttr.stAuto.u16HighColorTemp = pdata->u8HighColorTemp;
	stWBAttr.stAuto.u16LowColorTemp = pdata->u8LowColorTemp;
	HI_MPI_ISP_SetWBAttr(IspDev, &stWBAttr);

	return 0;
}

int isp_wb_get(WB_DATA * pdata)
{
	ISP_DEV IspDev = 0;
	ISP_WB_ATTR_S stWBAttr;

	HI_MPI_ISP_GetWBAttr(IspDev, &stWBAttr);
	pdata->type = stWBAttr.enOpType;
	pdata->u16Bgain = stWBAttr.stManual.u16Bgain;
	//pdata->u16Ggain = stWBAttr.stManual.u16Grgain;
	//pdata->u16Ggain = stWBAttr.stManual.u16Gbgain;
	pdata->u16Rgain = stWBAttr.stManual.u16Rgain;
	pdata->u8BGStrength = stWBAttr.stAuto.u8BGStrength;
	pdata->u8RGStrength = stWBAttr.stAuto.u8RGStrength;    
	pdata->u8ZoneSel = stWBAttr.stAuto.u16ZoneSel;
	pdata->u8HighColorTemp = stWBAttr.stAuto.u16HighColorTemp;
	pdata->u8LowColorTemp = stWBAttr.stAuto.u16LowColorTemp;

	return 0;
}



int isp_gamma_set(GAMMA_DATA *pdata)
{
	ISP_DEV IspDev = 0;
	ISP_GAMMA_ATTR_S stGammaAttr;

	stGammaAttr.bEnable = pdata->bEnable.bEnable;
	stGammaAttr.enCurveType = pdata->bEnable.enCurveType;
	memcpy(&stGammaAttr.u16Table,&pdata->u16Gamma,257 * 2);
	HI_MPI_ISP_SetGammaAttr(IspDev, &stGammaAttr);

	return 0;
}

int isp_gamma_get(GAMMA_DATA *pdata)
{
	ISP_DEV IspDev = 0;
	ISP_GAMMA_ATTR_S stGammaAttr;

	HI_MPI_ISP_GetGammaAttr(IspDev, &stGammaAttr);
	pdata->bEnable.bEnable = stGammaAttr.bEnable;
	pdata->bEnable.enCurveType = stGammaAttr.enCurveType;
	pdata->enGammaCurve = stGammaAttr.enCurveType;
	memcpy(&(pdata->u16Gamma),&(stGammaAttr.u16Table),257 * 2);

	return 0;
}




int isp_sharpen_set(SHARPEN_DATA *pdata)
{
	ISP_DEV IspDev = 0;
	ISP_SHARPEN_ATTR_S pstSharpenAttr;

	pstSharpenAttr.bEnable = pdata->bEnable;
	pstSharpenAttr.enOpType = pdata->bManualEnable;
	// ......
	HI_MPI_ISP_SetSharpenAttr(IspDev, &pstSharpenAttr);

	return 0;
}

int isp_sharpen_get(SHARPEN_DATA *pdata)
{
	ISP_DEV IspDev = 0;
	ISP_SHARPEN_ATTR_S pstSharpenAttr;

	HI_MPI_ISP_GetSharpenAttr(IspDev, &pstSharpenAttr);
	pdata->bEnable = pstSharpenAttr.bEnable;
	pdata->bManualEnable = pstSharpenAttr.enOpType;
	// ......

    return 0;
}



int isp_ccm_set(CCM_DATA *pdata)
{
	ISP_DEV IspDev = 0;

	ISP_SATURATION_ATTR_S pstSatAttr;
	pstSatAttr.enOpType = pdata->bSatManualEnable;
	pstSatAttr.stManual.u8Saturation = pdata->u8SatTarget;
	memcpy(pstSatAttr.stAuto.au8Sat, pdata->au8Sat, 16);
	HI_MPI_ISP_SetSaturationAttr(IspDev, &pstSatAttr);

	//HI_U32 pu32Value;
	//pu32Value = pdata->pu32Value;
	//HI_MPI_ISP_SetSaturation(pu32Value);

	ISP_COLORMATRIX_ATTR_S pstCCMAttr;
	HI_MPI_ISP_GetCCMAttr(IspDev, &pstCCMAttr);
	pstCCMAttr.stAuto.u16HighColorTemp = pdata->u16HighColorTemp;
	pstCCMAttr.stAuto.u16MidColorTemp = pdata->u16MidColorTemp;
	pstCCMAttr.stAuto.u16LowColorTemp = pdata->u16LowColorTemp;
	memcpy(&(pstCCMAttr.stAuto.au16HighCCM),&(pdata->au16HighCCM),9*2);
	memcpy(&(pstCCMAttr.stAuto.au16MidCCM),&(pdata->au16MidCCM),9*2);
	memcpy(&(pstCCMAttr.stAuto.au16LowCCM),&(pdata->au16LowCCM),9*2);
	HI_MPI_ISP_SetCCMAttr(IspDev, &pstCCMAttr);

	return 0;
}

int isp_ccm_get(CCM_DATA *pdata)
{
	ISP_DEV IspDev = 0;

	ISP_SATURATION_ATTR_S pstSatAttr;
	HI_MPI_ISP_GetSaturationAttr(IspDev, &pstSatAttr);
	pdata->bSatManualEnable = pstSatAttr.enOpType;
	pdata->u8SatTarget = pstSatAttr.stManual.u8Saturation;
	memcpy(pdata->au8Sat, pstSatAttr.stAuto.au8Sat, 16);

	//HI_U32 pu32Value;
	//HI_MPI_ISP_GetSaturation(&pu32Value);
	//pdata->pu32Value = pu32Value;

	ISP_COLORMATRIX_ATTR_S pstCCMAttr;
	HI_MPI_ISP_GetCCMAttr(IspDev, &pstCCMAttr);
	pdata->u16HighColorTemp = pstCCMAttr.stAuto.u16HighColorTemp;
	pdata->u16LowColorTemp = pstCCMAttr.stAuto.u16LowColorTemp;
	pdata->u16MidColorTemp = pstCCMAttr.stAuto.u16MidColorTemp;
	memcpy(&(pdata->au16HighCCM),&(pstCCMAttr.stAuto.au16HighCCM),9*2);
	memcpy(&(pdata->au16MidCCM),&(pstCCMAttr.stAuto.au16MidCCM),9*2);
	memcpy(&(pdata->au16LowCCM),&(pstCCMAttr.stAuto.au16LowCCM),9*2);

	return 0;
}


